(()=>{"use strict";function e(e,n,t,r){n.forEach((n=>{!function(e,n,t,r){e.addEventListener(n,t,r)}(e,n,t,r)}))}function n(e,n,t,r){n.forEach((n=>{e.removeEventListener(n,t,r)}))}function t(e,n,t){return e.dispatchEvent(new CustomEvent(n,t))}const r=function(e,n){return customElements.get(n)?Promise.reject(new Error(`Already defined <${n}>`)):(customElements.define(n,e),customElements.whenDefined(n))};var s;!function(e){e.spinStart="spinstart",e.spinning="spinning",e.spinEnd="spinend",e.change="change"}(s||(s={}));const o=s,i=function(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};if(e instanceof TouchEvent){const{touches:[n]}=e;return{x:n.clientX,y:n.clientY}}throw new ReferenceError(`Illegal event: ${e}`)},{PI:a,hypot:c,asin:d}=Math,l={x:0,y:0};function h(e,n=l){return e.y<n.y?e.x>n.x?1:2:e.x<n.x?3:e.y>n.y?4:1}function u(e,n=l,t=h(e,n)){const r=e.x-n.x,s=e.y-n.y,o=c(r,s);switch(t){default:case 1:return d(-s/o);case 2:return d(-r/o);case 3:return d(s/o);case 4:return d(r/o)}}const g=["mousedown","touchstart"],m=["mousemove","touchmove"],b=["mouseup","touchend"];function p(r){const{degree:s}=this;if(!t(this,o.spinStart,{bubbles:!0,cancelable:!0,composed:!0,detail:{degree:s,lastDegree:s,offsetDegree:0}}))return;const{top:c,right:d,bottom:l,left:g}=this.getBoundingClientRect(),p={x:(d+g)/2,y:(c+l)/2},f=i(r),x=h(f,p),y=u(f,p,x);let v=0,w=x,k=y;const E=e=>{const n=i(e),r=h(n,p),c=u(n,p,r),d=function(e,n,t,r){switch(t-e){default:case 0:return n-r;case-3:case 1:return n-r-a/2;case-1:case 3:return n-r+a/2;case-2:case 2:{const e=n+a-r;return e>a?2*a-e:e}}}(w,k,r,c)/a*180,{degree:l}=this;v+=d;const g=s+v,m=t(this,o.spinning,{bubbles:!0,cancelable:!0,composed:!0,detail:{degree:g,lastDegree:l,offsetDegree:v}});w=r,k=c,m&&(this.degree=g)},D=()=>{const{degree:e}=this;n(document,m,E),n(document,b,D),t(this,o.spinEnd,{bubbles:!0,cancelable:!1,composed:!0,detail:{degree:e,lastDegree:s,offsetDegree:v}})};r.preventDefault(),e(document,m,E),e(document,b,D)}var f;!function(e){e.disabled="disabled",e.degree="degree",e.min="min",e.max="max"}(f||(f={}));const x=f,{isNaN:y}=globalThis,v=document.createElement("template");v.innerHTML='\n  <style>\n    :host {\n      position: relative;\n      display: inline-block;\n      vertical-align: text-bottom;\n    }\n\n    knob {\n      transform: rotate(var(--degree));\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n  </style>\n  <knob>\n    <slot></slot>\n    <cover>\n      <slot name="pointer"></slot>\n    </cover>\n  </knob>\n';class w extends HTMLElement{#disabled=!1;#minDegree=-1/0;#maxDegree=1/0;#degree=0;constructor(){super(),this.attachShadow({mode:"open"});const e=this.shadowRoot;e.append(v.content.cloneNode(!0)),this.domKnob=e.querySelector("knob"),w.observedAttributes.forEach((e=>{this.attributeChangedCallback(e)}))}static get observedAttributes(){return[x.disabled,x.min,x.max,x.degree]}attributeChangedCallback(e){switch(e){default:break;case x.disabled:this.disabled=this.hasAttribute(x.disabled);break;case x.min:this.min=Number(this.getAttribute(x.min)??-1/0),this.degree=Math.max(this.min,this.degree);break;case x.max:this.max=Number(this.getAttribute(x.max)??1/0),this.degree=Math.min(this.max,this.degree);break;case x.degree:this.degree=Number(this.getAttribute(x.degree)??0)}}get disabled(){return this.#disabled}set disabled(t){const r=Boolean(t);r?n(this,g,p):e(this,g,p),this.#disabled=r}get min(){return this.#minDegree}set min(e){if(y(e))throw new TypeError(`Invalid min degree: ${e}`);if(this.#minDegree=e,this.max<e)throw new RangeError(`Setting min degree that is greater than max degree might cause spinning error: ${e} > ${this.max}`)}get max(){return this.#maxDegree}set max(e){if(y(e))throw new TypeError(`Invalid max degree: ${e}`);if(this.#maxDegree=e,this.min>e)throw new RangeError(`Setting max degree that is less than min degree might cause spinning error: ${e} < ${this.min}`)}get degree(){return this.#degree}set degree(e){const{degree:n}=this;if(e===n)return;if(y(e))throw new TypeError(`Invalid degree: ${e}`);const r=Math.max(Math.min(e,this.max),this.min);this.domKnob.style.setProperty("--degree",`${r}deg`),this.#degree=r,t(this,o.change,{bubbles:!1,cancelable:!1,detail:{degree:r,lastDegree:n,offsetDegree:r-n}})}get value(){return this.degree}set value(e){this.degree=e}}r(w,"knob-base");const k=w,E=document.createElement("template");E.innerHTML="\n  <style>\n    :host {\n      --size: 80px;\n      \n      width: var(--size);\n      height: var(--size);\n    }\n\n    knob {\n      position: relative;\n      border-radius: 50%;\n      box-sizing: border-box;\n      border: 1px solid currentColor;\n      background: #f3f3f3;\n      color: #aaa;\n      overflow: hidden;\n    }\n\n    knob:hover,\n    knob:active {\n      color: #888;\n      background: #eee;\n    }\n\n    cover {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      display: flex;\n      z-index: 1;\n    }\n\n    slot[name=pointer] {\n      margin: 0 auto;\n      display: block;\n    }\n\n    ::slotted([slot=pointer]) {\n      display: none;\n    }\n\n    knob > slot {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      display: block;\n    }\n  </style>\n";const D=class extends k{constructor(){super(),this.shadowRoot.append(E.content.cloneNode(!0))}},M=document.createElement("template");M.innerHTML="\n  <style>\n    slot[name=pointer] {\n      margin-top: 5%;\n      border-radius: 50%;\n      width: 10%;\n      height: 10%;\n      background: currentColor;\n    }\n  </style>\n";r(class extends D{constructor(){super(),this.shadowRoot.append(M.content.cloneNode(!0))}},"knob-dot");const T=document.createElement("template");T.innerHTML="\n  <style>\n    slot[name=pointer] {\n      transform: rotate(45deg);\n      margin-top: 5%;\n      width: 10%;\n      height: 10%;\n      background-image: linear-gradient(\n        135deg,\n        currentColor 50%,\n        transparent 50%\n      );\n    }\n  </style>\n";r(class extends D{constructor(){super(),this.shadowRoot.append(T.content.cloneNode(!0))}},"knob-triangle");const C=document.createElement("template");C.innerHTML="\n  <style>\n    slot[name=pointer] {\n      width: 3%;\n      height: 15%;\n      background: currentColor;\n    }\n  </style>\n";r(class extends D{constructor(){super(),this.shadowRoot.append(C.content.cloneNode(!0))}},"knob-line")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZSxDQUNqRCtCLFNBQVMsRUFDVEMsWUFBWSxFQUNaRSxPQUFRLENBQ05OLE9BQUFBLEVBQ0FPLFdBQUFBLEVBQ0FDLGFBQWNSLEVBQVNPLEtBUXBCLFlBQ1AsT0FBT0wsS0FBS0YsT0FNTCxVQUFDZ0UsR0FDUjlELEtBQUtGLE9BQVNnRSxHQUlsQlEsRUFBZ0I5QixFQWhPQyxhQWtPakIsVUN4T01ILEVBQVdMLFNBQVNNLGNBQWMsWUFFeENELEVBQVNFLFVBQWEsKzNCQStEdEIsUUFUQSxjQUF1QkMsRUFDckJHLGNBQ0VDLFFBRUM1QyxLQUFLK0MsV0FDSEMsT0FBT1gsRUFBU1ksUUFBUUMsV0FBVSxNQzNEbkNiLEVBQVdMLFNBQVNNLGNBQWMsWUFFeENELEVBQVNFLFVBQWEsdUxBcUJ0QitCLEVBVEEsY0FBc0JDLEVBQ3BCNUIsY0FDRUMsUUFFQzVDLEtBQUsrQyxXQUNIQyxPQUFPWCxFQUFTWSxRQUFRQyxXQUFVLE1BcEJ4QixZQTBCakIsTUN6Qk1iLEVBQVdMLFNBQVNNLGNBQWMsWUFFeENELEVBQVNFLFVBQWEscVJBeUJ0QitCLEVBVEEsY0FBMkJDLEVBQ3pCNUIsY0FDRUMsUUFFQzVDLEtBQUsrQyxXQUNIQyxPQUFPWCxFQUFTWSxRQUFRQyxXQUFVLE1BeEJ4QixpQkE4QmpCLE1DN0JNYixFQUFXTCxTQUFTTSxjQUFjLFlBRXhDRCxFQUFTRSxVQUFhLG9JQW1CdEIrQixFQVRBLGNBQXVCQyxFQUNyQjVCLGNBQ0VDLFFBRUM1QyxLQUFLK0MsV0FDSEMsT0FBT1gsRUFBU1ksUUFBUUMsV0FBVSxNQWxCeEIsYyIsInNvdXJjZXMiOlsid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy91dGlscy9ldmVudEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9rbm9iLmpzLy4vc3JjL3V0aWxzL3JlZ2lzdGVyRWxlbWVudC50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMvdmFsdWVzL2V2ZW50cy50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMvdXRpbHMvZ2V0RXZlbnRYWS50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMvdXRpbHMvcmFkaXVzQW5kRGVncmVlLnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy91dGlscy9zcGluTGlzdGVuZXIudHMiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9rbm9iLmpzLy4vc3JjL3ZhbHVlcy9hdHRyaWJ1dGVzLnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy9rbm9iLnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy9rbm9icy9iYXNpYy50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMva25vYnMvZG90LnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy9rbm9icy90cmlhbmdsZS50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMva25vYnMvbGluZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIEV2ZW50SG9sZGVyID0gSFRNTEVsZW1lbnQgfCBEb2N1bWVudCB8IFdpbmRvdztcbnR5cGUgRXZlbnRMaXN0ZW5lciA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuaW50ZXJmYWNlIEV2ZW50TGlzdGVuZXJPcHRpb25zIHtcbiAgY2FwdHVyZT86IGJvb2xlYW47XG4gIG9uY2U/OiBib29sZWFuO1xuICBwYXNzaXZlPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBBZGRzIGV2ZW50IG9mIHR5cGUgdG8gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoXG4gIHJlZjogRXZlbnRIb2xkZXIsXG4gIHR5cGU6IHN0cmluZyxcbiAgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIsXG4gIG9wdGlvbnM/OiBFdmVudExpc3RlbmVyT3B0aW9ucyxcbik6IHZvaWQge1xuICByZWYuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQWRkcyBldmVudHMgb2YgdHlwZXMgdG8gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKFxuICByZWY6IEV2ZW50SG9sZGVyLFxuICB0eXBlczogc3RyaW5nW10sXG4gIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyLFxuICBvcHRpb25zPzogRXZlbnRMaXN0ZW5lck9wdGlvbnMsXG4pOiB2b2lkIHtcbiAgdHlwZXMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIocmVmLCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgZXZlbnQgb2YgdHlwZSBmcm9tIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKFxuICByZWY6IEV2ZW50SG9sZGVyLFxuICB0eXBlOiBzdHJpbmcsXG4gIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyLFxuICBvcHRpb25zPzogRXZlbnRMaXN0ZW5lck9wdGlvbnMsXG4pOiB2b2lkIHtcbiAgcmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgZXZlbnRzIG9mIHR5cGVzIGZyb20gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKFxuICByZWY6IEV2ZW50SG9sZGVyLFxuICB0eXBlczogc3RyaW5nW10sXG4gIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyLFxuICBvcHRpb25zPzogRXZlbnRMaXN0ZW5lck9wdGlvbnMsXG4pOiB2b2lkIHtcbiAgdHlwZXMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgIHJlZi5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgfSk7XG59XG5cbmludGVyZmFjZSBDdXN0b21FdmVudEluaXQ8VD4ge1xuICBkZXRhaWw/OiBUO1xuICBidWJibGVzPzogYm9vbGVhbjtcbiAgY2FuY2VsYWJsZT86IGJvb2xlYW47XG4gIGNvbXBvc2VkPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBUcmlnZ2VycyBldmVudCBhbmQgcmV0dXJucyBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgY2FuY2VsbGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckV2ZW50PFQ+KFxuICByZWY6IEV2ZW50SG9sZGVyLFxuICB0eXBlOiBzdHJpbmcsXG4gIG9wdGlvbnM/OiBDdXN0b21FdmVudEluaXQ8VD4sXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHJlZi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCh0eXBlLCBvcHRpb25zKSk7XG59XG5cbi8qKlxuICogVHJpZ2dlcnMgZXZlbnRzIGFuZCByZXR1cm5zIGZhbHNlIGlmIGFueSBvZiB0aGUgZXZlbnQgaXNcbiAqIGNhbmNlbGxlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJFdmVudHM8VD4oXG4gIHJlZjogRXZlbnRIb2xkZXIsXG4gIHR5cGVzOiBzdHJpbmdbXSxcbiAgb3B0aW9ucz86IEN1c3RvbUV2ZW50SW5pdDxUPixcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gdHlwZXMuZXZlcnkoKHR5cGUpID0+IHRyaWdnZXJFdmVudChyZWYsIHR5cGUsIG9wdGlvbnMpKTtcbn1cbiIsIi8qKlxuICogUmVnaXN0ZXJzIEtub2IgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJFbGVtZW50KFxuICBOb2RlOiB0eXBlb2YgSFRNTEVsZW1lbnQsXG4gIG5vZGVOYW1lOiBzdHJpbmcsXG4pOiBSZXR1cm5UeXBlPHR5cGVvZiBjdXN0b21FbGVtZW50cy53aGVuRGVmaW5lZD4ge1xuICBpZiAoY3VzdG9tRWxlbWVudHMuZ2V0KG5vZGVOYW1lKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChcbiAgICAgIG5ldyBFcnJvcihgQWxyZWFkeSBkZWZpbmVkIDwke25vZGVOYW1lfT5gKSxcbiAgICApO1xuICB9XG5cbiAgY3VzdG9tRWxlbWVudHMuZGVmaW5lKG5vZGVOYW1lLCBOb2RlKTtcblxuICByZXR1cm4gY3VzdG9tRWxlbWVudHMud2hlbkRlZmluZWQobm9kZU5hbWUpO1xufVxuXG5leHBvcnQgZGVmYXVsdCByZWdpc3RlckVsZW1lbnQ7XG4iLCJlbnVtIEV2ZW50cyB7XG4gIHNwaW5TdGFydCA9ICdzcGluc3RhcnQnLFxuICBzcGlubmluZyA9ICdzcGlubmluZycsXG4gIHNwaW5FbmQgPSAnc3BpbmVuZCcsXG4gIGNoYW5nZSA9ICdjaGFuZ2UnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBFdmVudHM7XG4iLCJpbXBvcnQgUG9pbnQgZnJvbSAnLi9Qb2ludCc7XG5cbi8qKlxuICogUmV0dXJucyAoeCwgeSkgb2YgbW91c3QvdG91Y2ggZXZlbnQuXG4gKi9cbmZ1bmN0aW9uIGdldEV2ZW50WFkoZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KTogUG9pbnQge1xuICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICB5OiBldmVudC5jbGllbnRZLFxuICAgIH07XG4gIH1cbiAgaWYgKGV2ZW50IGluc3RhbmNlb2YgVG91Y2hFdmVudCkge1xuICAgIGNvbnN0IHsgdG91Y2hlczogW3RvdWNoXSB9ID0gZXZlbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHg6IHRvdWNoLmNsaWVudFgsXG4gICAgICB5OiB0b3VjaC5jbGllbnRZLFxuICAgIH07XG4gIH1cblxuICB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoYElsbGVnYWwgZXZlbnQ6ICR7ZXZlbnR9YCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldEV2ZW50WFk7XG4iLCJpbXBvcnQgUG9pbnQgZnJvbSAnLi9Qb2ludCc7XG5cbmNvbnN0IHsgUEksIGh5cG90LCBhc2luIH0gPSBNYXRoO1xuY29uc3Qgb3JpZ2luUG9pbnQ6IFBvaW50ID0geyB4OiAwLCB5OiAwIH07XG5cbnR5cGUgUXVhZHJhbnQgPSAxIHwgMiB8IDMgfCA0O1xuXG4vKipcbiAqIFJldHVybnMgdGhlIHF1YWRyYW50IFsxLCA0XSBvZiBwb2ludCBmcm9tIGNlbnRlci4gVGhlIHZhbHVlXG4gKiBpcyBiYXNlZCBvbiByYWRpdXM6IFExID0gWzAsIFBJIC8gMiksIFEyID0gW1BJIC8gMiwgUEkpLFxuICogUTMgPSBbUEksICgzICogUEkpIC8gMiksIFE0ID0gWygzICogUEkpIC8gMiwgMiAqIFBJKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFF1YWRyYW50KFxuICBwb2ludDogUG9pbnQsXG4gIGNlbnRlcjogUG9pbnQgPSBvcmlnaW5Qb2ludCxcbik6IFF1YWRyYW50IHtcbiAgaWYgKHBvaW50LnkgPCBjZW50ZXIueSkge1xuICAgIHJldHVybiBwb2ludC54ID4gY2VudGVyLnggPyAxIDogMjtcbiAgfVxuICBpZiAocG9pbnQueCA8IGNlbnRlci54KSB7XG4gICAgcmV0dXJuIDM7XG4gIH1cblxuICByZXR1cm4gcG9pbnQueSA+IGNlbnRlci55ID8gNCA6IDE7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcmFkaXVzIHZhbHVlIHN0YXJ0aW5nIGZyb20gdGhlIHF1YWRyYW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UmFkaXVzT2ZRdWFkcmFudChcbiAgcG9pbnQ6IFBvaW50LFxuICBjZW50ZXI6IFBvaW50ID0gb3JpZ2luUG9pbnQsXG4gIHF1YWRyYW50ID0gZ2V0UXVhZHJhbnQocG9pbnQsIGNlbnRlciksXG4pOiBudW1iZXIge1xuICBjb25zdCBkaWZmWCA9IHBvaW50LnggLSBjZW50ZXIueDtcbiAgY29uc3QgZGlmZlkgPSBwb2ludC55IC0gY2VudGVyLnk7XG4gIGNvbnN0IGxlbmd0aCA9IGh5cG90KGRpZmZYLCBkaWZmWSk7XG5cbiAgc3dpdGNoIChxdWFkcmFudCkge1xuICAgIGRlZmF1bHQ6XG4gICAgY2FzZSAxOiByZXR1cm4gYXNpbigtZGlmZlkgLyBsZW5ndGgpO1xuICAgIGNhc2UgMjogcmV0dXJuIGFzaW4oLWRpZmZYIC8gbGVuZ3RoKTtcbiAgICBjYXNlIDM6IHJldHVybiBhc2luKGRpZmZZIC8gbGVuZ3RoKTtcbiAgICBjYXNlIDQ6IHJldHVybiBhc2luKGRpZmZYIC8gbGVuZ3RoKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgcG9zaXRpdmUgdmFsdWUgZm9yIGNsb2Nrd2lzZSwgbmVnYXRpdmUgdmFsdWUgZm9yXG4gKiBjb3VudGVyY2xvY2t3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlmZlJhZGl1cyhcbiAgbGFzdFF1YWRyYW50OiBRdWFkcmFudCxcbiAgbGFzdFJhZGl1czogbnVtYmVyLFxuICBuZXh0UXVhZHJhbnQ6IFF1YWRyYW50LFxuICBuZXh0UmFkaXVzOiBudW1iZXIsXG4pOiBudW1iZXIge1xuICBzd2l0Y2ggKG5leHRRdWFkcmFudCAtIGxhc3RRdWFkcmFudCkge1xuICAgIGRlZmF1bHQ6XG4gICAgY2FzZSAwOlxuICAgICAgLy8gdGhlIHNhbWUgcXVhZHJhbnRcbiAgICAgIHJldHVybiBsYXN0UmFkaXVzIC0gbmV4dFJhZGl1cztcbiAgICBjYXNlIC0zOlxuICAgIGNhc2UgMTpcbiAgICAgIC8vIHRvIHRoZSBuZXh0IHF1YWRyYW50XG4gICAgICByZXR1cm4gbGFzdFJhZGl1cyAtIG5leHRSYWRpdXMgLSBQSSAvIDI7XG4gICAgY2FzZSAtMTpcbiAgICBjYXNlIDM6XG4gICAgICAvLyB0byB0aGUgcHJldiBxdWFkcmFudFxuICAgICAgcmV0dXJuIGxhc3RSYWRpdXMgLSBuZXh0UmFkaXVzICsgUEkgLyAyO1xuICAgIGNhc2UgLTI6XG4gICAgY2FzZSAyOiB7XG4gICAgICAvLyB0byB0aGUgZGlhZ29uYWwgcXVhZHJhbnRcbiAgICAgIGNvbnN0IHJhZGl1cyA9IGxhc3RSYWRpdXMgKyBQSSAtIG5leHRSYWRpdXM7XG5cbiAgICAgIHJldHVybiByYWRpdXMgPiBQSSA/IDIgKiBQSSAtIHJhZGl1cyA6IHJhZGl1cztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyByYWRpdXMgdG8gZGVncmVzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJhZGl1c1RvRGVncmVlKHJhZGl1czogbnVtYmVyKTogbnVtYmVyIHtcbiAgcmV0dXJuIDE4MCAqIChyYWRpdXMgLyBQSSk7XG59XG4iLCJpbXBvcnQgS25vYiBmcm9tICcuLi9rbm9iJztcbmltcG9ydCBFdmVudHMgZnJvbSAnLi4vdmFsdWVzL2V2ZW50cyc7XG5pbXBvcnQge1xuICBhZGRFdmVudExpc3RlbmVycywgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMsIHRyaWdnZXJFdmVudCxcbn0gZnJvbSAnLi9ldmVudEhhbmRsZXInO1xuaW1wb3J0IGdldEV2ZW50WFkgZnJvbSAnLi9nZXRFdmVudFhZJztcbmltcG9ydCB7XG4gIGdldERpZmZSYWRpdXMsIGdldFF1YWRyYW50LCBnZXRSYWRpdXNPZlF1YWRyYW50LFxuICByYWRpdXNUb0RlZ3JlZSxcbn0gZnJvbSAnLi9yYWRpdXNBbmREZWdyZWUnO1xuXG5jb25zdCBFVkVOVF9UT1VDSF9TVEFSVCA9IFsnbW91c2Vkb3duJywgJ3RvdWNoc3RhcnQnXTtcbmNvbnN0IEVWRU5UX1RPVUNIX01PVkUgPSBbJ21vdXNlbW92ZScsICd0b3VjaG1vdmUnXTtcbmNvbnN0IEVWRU5UX1RPVUNIX0VORCA9IFsnbW91c2V1cCcsICd0b3VjaGVuZCddO1xuXG5leHBvcnQgaW50ZXJmYWNlIFNwaW5FdmVudERldGFpbCB7XG4gIGRlZ3JlZTogbnVtYmVyO1xuICBsYXN0RGVncmVlOiBudW1iZXI7XG4gIG9mZnNldERlZ3JlZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEhhbmRsZXMgc3BpbnN0YXJ0IGV2ZW50IGJpbmRlZCB3aXRoIG1vdXNlc3RhcnQvdG91Y2hzdGFydFxuICogZXZlbnRzLlxuICovXG5mdW5jdGlvbiBzcGluU3RhcnRMaXN0ZW5lcihcbiAgdGhpczogS25vYixcbiAgZXZlbnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50LFxuKTogdm9pZCB7XG4gIGNvbnN0IHtcbiAgICBkZWdyZWU6IHN0YXJ0RGVncmVlLFxuICB9ID0gdGhpcztcbiAgY29uc3QgYWxsU3RhcnRFdmVudHNQYXNzZWQgPSB0cmlnZ2VyRXZlbnQ8U3BpbkV2ZW50RGV0YWlsPihcbiAgICB0aGlzLFxuICAgIEV2ZW50cy5zcGluU3RhcnQsXG4gICAge1xuICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICAgIGRldGFpbDoge1xuICAgICAgICBkZWdyZWU6IHN0YXJ0RGVncmVlLFxuICAgICAgICBsYXN0RGVncmVlOiBzdGFydERlZ3JlZSxcbiAgICAgICAgb2Zmc2V0RGVncmVlOiAwLFxuICAgICAgfSxcbiAgICB9LFxuICApO1xuXG4gIGlmICghYWxsU3RhcnRFdmVudHNQYXNzZWQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCB7XG4gICAgdG9wLCByaWdodCwgYm90dG9tLCBsZWZ0LFxuICB9ID0gdGhpcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgY29uc3QgY2VudGVyID0ge1xuICAgIHg6IChyaWdodCArIGxlZnQpIC8gMixcbiAgICB5OiAodG9wICsgYm90dG9tKSAvIDIsXG4gIH07XG4gIGNvbnN0IHN0YXJ0UHJlc3NQb2ludCA9IGdldEV2ZW50WFkoZXZlbnQpO1xuICBjb25zdCBzdGFydFByZXNzUXVhZHJhbnQgPSBnZXRRdWFkcmFudChcbiAgICBzdGFydFByZXNzUG9pbnQsXG4gICAgY2VudGVyLFxuICApO1xuICBjb25zdCBzdGFydFByZXNzUmFkaXVzID0gZ2V0UmFkaXVzT2ZRdWFkcmFudChcbiAgICBzdGFydFByZXNzUG9pbnQsXG4gICAgY2VudGVyLFxuICAgIHN0YXJ0UHJlc3NRdWFkcmFudCxcbiAgKTtcblxuICBsZXQgdG90YWxEaWZmRGVncmVlID0gMDtcbiAgbGV0IGxhc3RRdWFkcmFudCA9IHN0YXJ0UHJlc3NRdWFkcmFudDtcbiAgbGV0IGxhc3RSYWRpdXMgPSBzdGFydFByZXNzUmFkaXVzO1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHNwaW5uaW5nL2NoYW5naW5nIGV2ZW50cyBiaW5kZWQgd2l0aFxuICAgKiBtb3VzZW1vdmUvdG91Y2htb3ZlIGV2ZW50cy5cbiAgICovXG4gIGNvbnN0IHNwaW5uaW5nTGlzdGVuZXIgPSAoZXZ0OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCkgPT4ge1xuICAgIGNvbnN0IHByZXNzUG9pbnQgPSBnZXRFdmVudFhZKGV2dCk7XG4gICAgY29uc3QgcHJlc3NRdWFkcmFudCA9IGdldFF1YWRyYW50KFxuICAgICAgcHJlc3NQb2ludCxcbiAgICAgIGNlbnRlcixcbiAgICApO1xuICAgIGNvbnN0IHByZXNzUmFkaXVzID0gZ2V0UmFkaXVzT2ZRdWFkcmFudChcbiAgICAgIHByZXNzUG9pbnQsXG4gICAgICBjZW50ZXIsXG4gICAgICBwcmVzc1F1YWRyYW50LFxuICAgICk7XG4gICAgY29uc3QgZGlmZlJhZGl1cyA9IGdldERpZmZSYWRpdXMoXG4gICAgICBsYXN0UXVhZHJhbnQsXG4gICAgICBsYXN0UmFkaXVzLFxuICAgICAgcHJlc3NRdWFkcmFudCxcbiAgICAgIHByZXNzUmFkaXVzLFxuICAgICk7XG4gICAgY29uc3QgZGlmZkRlZ3JlZSA9IHJhZGl1c1RvRGVncmVlKGRpZmZSYWRpdXMpO1xuICAgIGNvbnN0IHtcbiAgICAgIGRlZ3JlZTogbGFzdERlZ3JlZSxcbiAgICB9ID0gdGhpcztcblxuICAgIHRvdGFsRGlmZkRlZ3JlZSArPSBkaWZmRGVncmVlO1xuXG4gICAgY29uc3QgbmV4dERlZ3JlZSA9IHN0YXJ0RGVncmVlICsgdG90YWxEaWZmRGVncmVlO1xuICAgIGNvbnN0IGFsbE1vdmVFdmVudHNQYXNzZWQgPSB0cmlnZ2VyRXZlbnQ8U3BpbkV2ZW50RGV0YWlsPihcbiAgICAgIHRoaXMsXG4gICAgICBFdmVudHMuc3Bpbm5pbmcsXG4gICAgICB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNhbmNlbGFibGU6IHRydWUsXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlLFxuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBkZWdyZWU6IG5leHREZWdyZWUsXG4gICAgICAgICAgbGFzdERlZ3JlZSxcbiAgICAgICAgICBvZmZzZXREZWdyZWU6IHRvdGFsRGlmZkRlZ3JlZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIGxhc3RRdWFkcmFudCA9IHByZXNzUXVhZHJhbnQ7XG4gICAgbGFzdFJhZGl1cyA9IHByZXNzUmFkaXVzO1xuXG4gICAgaWYgKCFhbGxNb3ZlRXZlbnRzUGFzc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5kZWdyZWUgPSBuZXh0RGVncmVlO1xuICB9O1xuXG4gIC8qKlxuICAgKiBIYW5kbGVzIHNwaW5lbmQvY2hhbmdlZCBldmVudHMgYmluZGVkIHdpdGggbW91c2V1cC90b3VjaGVuZFxuICAgKiBldmVudHMuXG4gICAqL1xuICBjb25zdCBzcGluRW5kTGlzdGVuZXIgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBkZWdyZWUgfSA9IHRoaXM7XG5cbiAgICByZW1vdmVFdmVudExpc3RlbmVycyhkb2N1bWVudCwgRVZFTlRfVE9VQ0hfTU9WRSwgc3Bpbm5pbmdMaXN0ZW5lcik7XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZG9jdW1lbnQsIEVWRU5UX1RPVUNIX0VORCwgc3BpbkVuZExpc3RlbmVyKTtcbiAgICB0cmlnZ2VyRXZlbnQ8U3BpbkV2ZW50RGV0YWlsPihcbiAgICAgIHRoaXMsXG4gICAgICBFdmVudHMuc3BpbkVuZCxcbiAgICAgIHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbXBvc2VkOiB0cnVlLFxuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBkZWdyZWUsXG4gICAgICAgICAgbGFzdERlZ3JlZTogc3RhcnREZWdyZWUsXG4gICAgICAgICAgb2Zmc2V0RGVncmVlOiB0b3RhbERpZmZEZWdyZWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICk7XG4gIH07XG5cbiAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgYWRkRXZlbnRMaXN0ZW5lcnMoZG9jdW1lbnQsIEVWRU5UX1RPVUNIX01PVkUsIHNwaW5uaW5nTGlzdGVuZXIpO1xuICBhZGRFdmVudExpc3RlbmVycyhkb2N1bWVudCwgRVZFTlRfVE9VQ0hfRU5ELCBzcGluRW5kTGlzdGVuZXIpO1xufVxuXG4vKipcbiAqIEFkZHMgbGlzdGVuZXJzIG9mIEtub2IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRTcGluTGlzdGVuZXJzKHJlZjogS25vYik6IHZvaWQge1xuICBhZGRFdmVudExpc3RlbmVycyhyZWYsIEVWRU5UX1RPVUNIX1NUQVJULCBzcGluU3RhcnRMaXN0ZW5lcik7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBsaXN0ZW5lcnMgb2YgS25vYi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZVNwaW5MaXN0ZW5lcnMocmVmOiBLbm9iKTogdm9pZCB7XG4gIHJlbW92ZUV2ZW50TGlzdGVuZXJzKHJlZiwgRVZFTlRfVE9VQ0hfU1RBUlQsIHNwaW5TdGFydExpc3RlbmVyKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3BpblN0YXJ0TGlzdGVuZXI7XG4iLCJlbnVtIEF0dHJpYnV0ZXMge1xuICBkaXNhYmxlZCA9ICdkaXNhYmxlZCcsXG4gIGRlZ3JlZSA9ICdkZWdyZWUnLFxuICBtaW4gPSAnbWluJyxcbiAgbWF4ID0gJ21heCcsXG59XG5cbmV4cG9ydCBkZWZhdWx0IEF0dHJpYnV0ZXM7XG4iLCJpbXBvcnQgeyB0cmlnZ2VyRXZlbnQgfSBmcm9tICcuL3V0aWxzL2V2ZW50SGFuZGxlcic7XG5pbXBvcnQgcmVnaXN0ZXJFbGVtZW50IGZyb20gJy4vdXRpbHMvcmVnaXN0ZXJFbGVtZW50JztcbmltcG9ydCB7XG4gIGFkZFNwaW5MaXN0ZW5lcnMsIHJlbW92ZVNwaW5MaXN0ZW5lcnMsIFNwaW5FdmVudERldGFpbCxcbn0gZnJvbSAnLi91dGlscy9zcGluTGlzdGVuZXInO1xuaW1wb3J0IEF0dHJpYnV0ZXMgZnJvbSAnLi92YWx1ZXMvYXR0cmlidXRlcyc7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4vdmFsdWVzL2V2ZW50cyc7XG5cbmNvbnN0IG5vZGVOYW1lID0gJ2tub2ItYmFzZSc7XG5cbmNvbnN0IHsgaXNOYU4gfSA9IGdsb2JhbFRoaXM7XG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgIHZlcnRpY2FsLWFsaWduOiB0ZXh0LWJvdHRvbTtcbiAgICB9XG5cbiAgICBrbm9iIHtcbiAgICAgIHRyYW5zZm9ybTogcm90YXRlKHZhcigtLWRlZ3JlZSkpO1xuICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICB9XG4gIDwvc3R5bGU+XG4gIDxrbm9iPlxuICAgIDxzbG90Pjwvc2xvdD5cbiAgICA8Y292ZXI+XG4gICAgICA8c2xvdCBuYW1lPVwicG9pbnRlclwiPjwvc2xvdD5cbiAgICA8L2NvdmVyPlxuICA8L2tub2I+XG5gO1xuXG5jbGFzcyBLbm9iIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAjZGlzYWJsZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAjbWluRGVncmVlOiBudW1iZXIgPSAtSW5maW5pdHk7XG5cbiAgI21heERlZ3JlZTogbnVtYmVyID0gSW5maW5pdHk7XG5cbiAgI2RlZ3JlZTogbnVtYmVyID0gMDtcblxuICBwcm90ZWN0ZWQgZG9tS25vYjogSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgIHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuXG4gICAgY29uc3Qgc2hhZG93Um9vdCA9IHRoaXMuc2hhZG93Um9vdCBhcyBTaGFkb3dSb290O1xuXG4gICAgc2hhZG93Um9vdC5hcHBlbmQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgIHRoaXMuZG9tS25vYiA9IChcbiAgICAgIHNoYWRvd1Jvb3QucXVlcnlTZWxlY3Rvcigna25vYicpIGFzIEhUTUxFbGVtZW50XG4gICAgKTtcblxuICAgIEtub2Iub2JzZXJ2ZWRBdHRyaWJ1dGVzLmZvckVhY2goKGF0dHJOYW1lKSA9PiB7XG4gICAgICB0aGlzLmF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyTmFtZSk7XG4gICAgfSk7XG4gIH1cblxuICBzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcbiAgICByZXR1cm4gW1xuICAgICAgQXR0cmlidXRlcy5kaXNhYmxlZCxcbiAgICAgIEF0dHJpYnV0ZXMubWluLFxuICAgICAgQXR0cmlidXRlcy5tYXgsXG4gICAgICBBdHRyaWJ1dGVzLmRlZ3JlZSxcbiAgICBdO1xuICB9XG5cbiAgYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHJOYW1lOiBzdHJpbmcpIHtcbiAgICBzd2l0Y2ggKGF0dHJOYW1lKSB7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBBdHRyaWJ1dGVzLmRpc2FibGVkOlxuICAgICAgICB0aGlzLmRpc2FibGVkID0gdGhpcy5oYXNBdHRyaWJ1dGUoQXR0cmlidXRlcy5kaXNhYmxlZCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIEF0dHJpYnV0ZXMubWluOlxuICAgICAgICB0aGlzLm1pbiA9IE51bWJlcihcbiAgICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLm1pbilcbiAgICAgICAgICA/PyAtSW5maW5pdHksXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuZGVncmVlID0gTWF0aC5tYXgodGhpcy5taW4sIHRoaXMuZGVncmVlKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQXR0cmlidXRlcy5tYXg6XG4gICAgICAgIHRoaXMubWF4ID0gTnVtYmVyKFxuICAgICAgICAgIHRoaXMuZ2V0QXR0cmlidXRlKEF0dHJpYnV0ZXMubWF4KVxuICAgICAgICAgID8/IEluZmluaXR5LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRlZ3JlZSA9IE1hdGgubWluKHRoaXMubWF4LCB0aGlzLmRlZ3JlZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIEF0dHJpYnV0ZXMuZGVncmVlOlxuICAgICAgICB0aGlzLmRlZ3JlZSA9IE51bWJlcihcbiAgICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLmRlZ3JlZSlcbiAgICAgICAgICA/PyAwLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIEtub2IgaXMgZGlzYWJsZWQuXG4gICAqL1xuICBnZXQgZGlzYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuI2Rpc2FibGVkO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgS25vYiBkaXNhYmxlZC5cbiAgICovXG4gIHNldCBkaXNhYmxlZCh2YWx1ZTogYm9vbGVhbikge1xuICAgIGNvbnN0IGRpc2FibGVkID0gQm9vbGVhbih2YWx1ZSk7XG5cbiAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgIHJlbW92ZVNwaW5MaXN0ZW5lcnModGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFkZFNwaW5MaXN0ZW5lcnModGhpcyk7XG4gICAgfVxuXG4gICAgdGhpcy4jZGlzYWJsZWQgPSBkaXNhYmxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG1pbiBkZWdyZWUuXG4gICAqL1xuICBnZXQgbWluKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI21pbkRlZ3JlZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIG1pbiBkZWdyZWUuXG4gICAqL1xuICBzZXQgbWluKG1pbkRlZ3JlZTogbnVtYmVyKSB7XG4gICAgaWYgKGlzTmFOKG1pbkRlZ3JlZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgbWluIGRlZ3JlZTogJHttaW5EZWdyZWV9YCk7XG4gICAgfVxuXG4gICAgdGhpcy4jbWluRGVncmVlID0gbWluRGVncmVlO1xuXG4gICAgaWYgKHRoaXMubWF4IDwgbWluRGVncmVlKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcbiAgICAgICAgYFNldHRpbmcgbWluIGRlZ3JlZSB0aGF0IGlzIGdyZWF0ZXIgdGhhbiBtYXggZGVncmVlIG1pZ2h0IGNhdXNlIHNwaW5uaW5nIGVycm9yOiAke21pbkRlZ3JlZX0gPiAke3RoaXMubWF4fWAsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG1heCBkZWdyZWUuXG4gICAqL1xuICBnZXQgbWF4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI21heERlZ3JlZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIG1heCBkZWdyZWUuXG4gICAqL1xuICBzZXQgbWF4KG1heERlZ3JlZTogbnVtYmVyKSB7XG4gICAgaWYgKGlzTmFOKG1heERlZ3JlZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgbWF4IGRlZ3JlZTogJHttYXhEZWdyZWV9YCk7XG4gICAgfVxuXG4gICAgdGhpcy4jbWF4RGVncmVlID0gbWF4RGVncmVlO1xuXG4gICAgaWYgKHRoaXMubWluID4gbWF4RGVncmVlKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcbiAgICAgICAgYFNldHRpbmcgbWF4IGRlZ3JlZSB0aGF0IGlzIGxlc3MgdGhhbiBtaW4gZGVncmVlIG1pZ2h0IGNhdXNlIHNwaW5uaW5nIGVycm9yOiAke21heERlZ3JlZX0gPCAke3RoaXMubWlufWAsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIGRlZ3JlZS5cbiAgICovXG4gIGdldCBkZWdyZWUoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy4jZGVncmVlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgZGVncmVlLlxuICAgKi9cbiAgc2V0IGRlZ3JlZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgY29uc3Qge1xuICAgICAgZGVncmVlOiBsYXN0RGVncmVlLFxuICAgIH0gPSB0aGlzO1xuXG4gICAgaWYgKHZhbHVlID09PSBsYXN0RGVncmVlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpc05hTih2YWx1ZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgZGVncmVlOiAke3ZhbHVlfWApO1xuICAgIH1cblxuICAgIGNvbnN0IGRlZ3JlZSA9IE1hdGgubWF4KFxuICAgICAgTWF0aC5taW4odmFsdWUsIHRoaXMubWF4KSxcbiAgICAgIHRoaXMubWluLFxuICAgICk7XG5cbiAgICB0aGlzLmRvbUtub2Iuc3R5bGUuc2V0UHJvcGVydHkoJy0tZGVncmVlJywgYCR7ZGVncmVlfWRlZ2ApO1xuICAgIHRoaXMuI2RlZ3JlZSA9IGRlZ3JlZTtcbiAgICB0cmlnZ2VyRXZlbnQ8U3BpbkV2ZW50RGV0YWlsPih0aGlzLCBFdmVudHMuY2hhbmdlLCB7XG4gICAgICBidWJibGVzOiBmYWxzZSxcbiAgICAgIGNhbmNlbGFibGU6IGZhbHNlLFxuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIGRlZ3JlZSxcbiAgICAgICAgbGFzdERlZ3JlZSxcbiAgICAgICAgb2Zmc2V0RGVncmVlOiBkZWdyZWUgLSBsYXN0RGVncmVlLFxuICAgICAgfSxcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGlhcyBvZiBnZXR0aW5nIGRlZ3JlZS5cbiAgICovXG4gIGdldCB2YWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5kZWdyZWU7XG4gIH1cblxuICAvKipcbiAgICogQWxpYXMgb2Ygc2V0dGluZyBkZWdyZWUuXG4gICAqL1xuICBzZXQgdmFsdWUodmFsdWUpIHtcbiAgICB0aGlzLmRlZ3JlZSA9IHZhbHVlO1xuICB9XG59XG5cbnJlZ2lzdGVyRWxlbWVudChLbm9iLCBub2RlTmFtZSk7XG5cbmV4cG9ydCBkZWZhdWx0IEtub2I7XG4iLCJpbXBvcnQgS25vYiBmcm9tICcuLi9rbm9iJztcblxuY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG50ZW1wbGF0ZS5pbm5lckhUTUwgPSBgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICAtLXNpemU6IDgwcHg7XG4gICAgICBcbiAgICAgIHdpZHRoOiB2YXIoLS1zaXplKTtcbiAgICAgIGhlaWdodDogdmFyKC0tc2l6ZSk7XG4gICAgfVxuXG4gICAga25vYiB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICAgICAgYm9yZGVyOiAxcHggc29saWQgY3VycmVudENvbG9yO1xuICAgICAgYmFja2dyb3VuZDogI2YzZjNmMztcbiAgICAgIGNvbG9yOiAjYWFhO1xuICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICB9XG5cbiAgICBrbm9iOmhvdmVyLFxuICAgIGtub2I6YWN0aXZlIHtcbiAgICAgIGNvbG9yOiAjODg4O1xuICAgICAgYmFja2dyb3VuZDogI2VlZTtcbiAgICB9XG5cbiAgICBjb3ZlciB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDA7XG4gICAgICByaWdodDogMDtcbiAgICAgIGJvdHRvbTogMDtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgei1pbmRleDogMTtcbiAgICB9XG5cbiAgICBzbG90W25hbWU9cG9pbnRlcl0ge1xuICAgICAgbWFyZ2luOiAwIGF1dG87XG4gICAgICBkaXNwbGF5OiBibG9jaztcbiAgICB9XG5cbiAgICA6OnNsb3R0ZWQoW3Nsb3Q9cG9pbnRlcl0pIHtcbiAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgfVxuXG4gICAga25vYiA+IHNsb3Qge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgdG9wOiA1MCU7XG4gICAgICBsZWZ0OiA1MCU7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgPC9zdHlsZT5cbmA7XG5cbmNsYXNzIEtub2JCYXNlIGV4dGVuZHMgS25vYiB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICAodGhpcy5zaGFkb3dSb290IGFzIFNoYWRvd1Jvb3QpXG4gICAgICAuYXBwZW5kKHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBLbm9iQmFzZTtcbiIsImltcG9ydCBLbm9iQmFzZSBmcm9tICcuL2Jhc2ljJztcbmltcG9ydCByZWdpc3RlckVsZW1lbnQgZnJvbSAnLi4vdXRpbHMvcmVnaXN0ZXJFbGVtZW50JztcblxuY29uc3Qgbm9kZU5hbWUgPSAna25vYi1kb3QnO1xuY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG50ZW1wbGF0ZS5pbm5lckhUTUwgPSBgXG4gIDxzdHlsZT5cbiAgICBzbG90W25hbWU9cG9pbnRlcl0ge1xuICAgICAgbWFyZ2luLXRvcDogNSU7XG4gICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICB3aWR0aDogMTAlO1xuICAgICAgaGVpZ2h0OiAxMCU7XG4gICAgICBiYWNrZ3JvdW5kOiBjdXJyZW50Q29sb3I7XG4gICAgfVxuICA8L3N0eWxlPlxuYDtcblxuY2xhc3MgS25vYkRvdCBleHRlbmRzIEtub2JCYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgICh0aGlzLnNoYWRvd1Jvb3QgYXMgU2hhZG93Um9vdClcbiAgICAgIC5hcHBlbmQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG59XG5cbnJlZ2lzdGVyRWxlbWVudChLbm9iRG90LCBub2RlTmFtZSk7XG5cbmV4cG9ydCBkZWZhdWx0IEtub2JEb3Q7XG4iLCJpbXBvcnQgS25vYkJhc2UgZnJvbSAnLi9iYXNpYyc7XG5pbXBvcnQgcmVnaXN0ZXJFbGVtZW50IGZyb20gJy4uL3V0aWxzL3JlZ2lzdGVyRWxlbWVudCc7XG5cbmNvbnN0IG5vZGVOYW1lID0gJ2tub2ItdHJpYW5nbGUnO1xuY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG50ZW1wbGF0ZS5pbm5lckhUTUwgPSBgXG4gIDxzdHlsZT5cbiAgICBzbG90W25hbWU9cG9pbnRlcl0ge1xuICAgICAgdHJhbnNmb3JtOiByb3RhdGUoNDVkZWcpO1xuICAgICAgbWFyZ2luLXRvcDogNSU7XG4gICAgICB3aWR0aDogMTAlO1xuICAgICAgaGVpZ2h0OiAxMCU7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiBsaW5lYXItZ3JhZGllbnQoXG4gICAgICAgIDEzNWRlZyxcbiAgICAgICAgY3VycmVudENvbG9yIDUwJSxcbiAgICAgICAgdHJhbnNwYXJlbnQgNTAlXG4gICAgICApO1xuICAgIH1cbiAgPC9zdHlsZT5cbmA7XG5cbmNsYXNzIEtub2JUcmlhbmdsZSBleHRlbmRzIEtub2JCYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgICh0aGlzLnNoYWRvd1Jvb3QgYXMgU2hhZG93Um9vdClcbiAgICAgIC5hcHBlbmQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG59XG5cbnJlZ2lzdGVyRWxlbWVudChLbm9iVHJpYW5nbGUsIG5vZGVOYW1lKTtcblxuZXhwb3J0IGRlZmF1bHQgS25vYlRyaWFuZ2xlO1xuIiwiaW1wb3J0IEtub2JCYXNlIGZyb20gJy4vYmFzaWMnO1xuaW1wb3J0IHJlZ2lzdGVyRWxlbWVudCBmcm9tICcuLi91dGlscy9yZWdpc3RlckVsZW1lbnQnO1xuXG5jb25zdCBub2RlTmFtZSA9ICdrbm9iLWxpbmUnO1xuY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG50ZW1wbGF0ZS5pbm5lckhUTUwgPSBgXG4gIDxzdHlsZT5cbiAgICBzbG90W25hbWU9cG9pbnRlcl0ge1xuICAgICAgd2lkdGg6IDMlO1xuICAgICAgaGVpZ2h0OiAxNSU7XG4gICAgICBiYWNrZ3JvdW5kOiBjdXJyZW50Q29sb3I7XG4gICAgfVxuICA8L3N0eWxlPlxuYDtcblxuY2xhc3MgS25vYkxpbmUgZXh0ZW5kcyBLbm9iQmFzZSB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICAodGhpcy5zaGFkb3dSb290IGFzIFNoYWRvd1Jvb3QpXG4gICAgICAuYXBwZW5kKHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcbiAgfVxufVxuXG5yZWdpc3RlckVsZW1lbnQoS25vYkxpbmUsIG5vZGVOYW1lKTtcblxuZXhwb3J0IGRlZmF1bHQgS25vYkxpbmU7XG4iXSwibmFtZXMiOlsiYWRkRXZlbnRMaXN0ZW5lcnMiLCJyZWYiLCJ0eXBlcyIsImxpc3RlbmVyIiwib3B0aW9ucyIsImZvckVhY2giLCJ0eXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInRyaWdnZXJFdmVudCIsImRpc3BhdGNoRXZlbnQiLCJDdXN0b21FdmVudCIsIk5vZGUiLCJub2RlTmFtZSIsImN1c3RvbUVsZW1lbnRzIiwiZ2V0IiwiUHJvbWlzZSIsInJlamVjdCIsIkVycm9yIiwiZGVmaW5lIiwid2hlbkRlZmluZWQiLCJFdmVudHMiLCJldmVudCIsIk1vdXNlRXZlbnQiLCJ4IiwiY2xpZW50WCIsInkiLCJjbGllbnRZIiwiVG91Y2hFdmVudCIsInRvdWNoZXMiLCJ0b3VjaCIsIlJlZmVyZW5jZUVycm9yIiwiUEkiLCJoeXBvdCIsImFzaW4iLCJNYXRoIiwib3JpZ2luUG9pbnQiLCJnZXRRdWFkcmFudCIsInBvaW50IiwiY2VudGVyIiwiZ2V0UmFkaXVzT2ZRdWFkcmFudCIsInF1YWRyYW50IiwiZGlmZlgiLCJkaWZmWSIsImxlbmd0aCIsIkVWRU5UX1RPVUNIX1NUQVJUIiwiRVZFTlRfVE9VQ0hfTU9WRSIsIkVWRU5UX1RPVUNIX0VORCIsInNwaW5TdGFydExpc3RlbmVyIiwiZGVncmVlIiwic3RhcnREZWdyZWUiLCJ0aGlzIiwiYnViYmxlcyIsImNhbmNlbGFibGUiLCJjb21wb3NlZCIsImRldGFpbCIsImxhc3REZWdyZWUiLCJvZmZzZXREZWdyZWUiLCJ0b3AiLCJyaWdodCIsImJvdHRvbSIsImxlZnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzdGFydFByZXNzUG9pbnQiLCJnZXRFdmVudFhZIiwic3RhcnRQcmVzc1F1YWRyYW50Iiwic3RhcnRQcmVzc1JhZGl1cyIsInRvdGFsRGlmZkRlZ3JlZSIsImxhc3RRdWFkcmFudCIsImxhc3RSYWRpdXMiLCJzcGlubmluZ0xpc3RlbmVyIiwiZXZ0IiwicHJlc3NQb2ludCIsInByZXNzUXVhZHJhbnQiLCJwcmVzc1JhZGl1cyIsImRpZmZEZWdyZWUiLCJuZXh0UXVhZHJhbnQiLCJuZXh0UmFkaXVzIiwicmFkaXVzIiwiZ2V0RGlmZlJhZGl1cyIsIm5leHREZWdyZWUiLCJhbGxNb3ZlRXZlbnRzUGFzc2VkIiwic3BpbkVuZExpc3RlbmVyIiwiZG9jdW1lbnQiLCJwcmV2ZW50RGVmYXVsdCIsIkF0dHJpYnV0ZXMiLCJpc05hTiIsImdsb2JhbFRoaXMiLCJ0ZW1wbGF0ZSIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJLbm9iIiwiSFRNTEVsZW1lbnQiLCJJbmZpbml0eSIsImNvbnN0cnVjdG9yIiwic3VwZXIiLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwic2hhZG93Um9vdCIsImFwcGVuZCIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJkb21Lbm9iIiwicXVlcnlTZWxlY3RvciIsIm9ic2VydmVkQXR0cmlidXRlcyIsImF0dHJOYW1lIiwiYXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrIiwiZGlzYWJsZWQiLCJoYXNBdHRyaWJ1dGUiLCJtaW4iLCJOdW1iZXIiLCJnZXRBdHRyaWJ1dGUiLCJtYXgiLCJ2YWx1ZSIsIkJvb2xlYW4iLCJtaW5EZWdyZWUiLCJUeXBlRXJyb3IiLCJSYW5nZUVycm9yIiwibWF4RGVncmVlIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsInJlZ2lzdGVyRWxlbWVudCIsIktub2JCYXNlIl0sInNvdXJjZVJvb3QiOiIifQ==