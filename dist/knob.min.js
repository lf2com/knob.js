(()=>{"use strict";function e(e,n,t,r){n.forEach((n=>{!function(e,n,t,r){e.addEventListener(n,t,r)}(e,n,t,r)}))}function n(e,n,t,r){n.forEach((n=>{e.removeEventListener(n,t,r)}))}function t(e,n,t){return e.dispatchEvent(new CustomEvent(n,t))}const r=function(e,n){return customElements.get(n)?Promise.reject(new Error(`Already defined <${n}>`)):(customElements.define(n,e),customElements.whenDefined(n))};var s;!function(e){e.spinStart="spinstart",e.spinning="spinning",e.spinEnd="spinend",e.change="change"}(s||(s={}));const o=s,i=function(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};if(e instanceof TouchEvent){const{touches:[n]}=e;return{x:n.clientX,y:n.clientY}}throw new ReferenceError(`Illegal event: ${e}`)},{PI:a,hypot:c,asin:d}=Math,l={x:0,y:0};function h(e,n=l){return e.y<n.y?e.x>n.x?1:2:e.x<n.x?3:e.y>n.y?4:1}function u(e,n=l,t=h(e,n)){const r=e.x-n.x,s=e.y-n.y,o=c(r,s);switch(t){default:case 1:return d(-s/o);case 2:return d(-r/o);case 3:return d(s/o);case 4:return d(r/o)}}const g=["mousedown","touchstart"],m=["mousemove","touchmove"],b=["mouseup","touchend"];function p(r){const{degree:s}=this;if(!t(this,o.spinStart,{bubbles:!0,cancelable:!0,composed:!0,detail:{degree:s,lastDegree:s,offsetDegree:0}}))return;const{top:c,right:d,bottom:l,left:g}=this.getBoundingClientRect(),p={x:(d+g)/2,y:(c+l)/2},f=i(r),x=h(f,p),y=u(f,p,x);let v=0,w=x,k=y;const E=e=>{const n=i(e),r=h(n,p),c=u(n,p,r),d=function(e,n,t,r){switch(t-e){default:case 0:return n-r;case-3:case 1:return n-r-a/2;case-1:case 3:return n-r+a/2;case-2:case 2:{const e=n+a-r;return e>a?2*a-e:e}}}(w,k,r,c)/a*180,{degree:l}=this;v+=d;const g=s+v,m=t(this,o.spinning,{bubbles:!0,cancelable:!0,composed:!0,detail:{degree:g,lastDegree:l,offsetDegree:v}});w=r,k=c,m&&(this.degree=g)},D=()=>{const{degree:e}=this;n(document,m,E),n(document,b,D),t(this,o.spinEnd,{bubbles:!0,cancelable:!1,composed:!0,detail:{degree:e,lastDegree:s,offsetDegree:v}})};r.preventDefault(),e(document,m,E),e(document,b,D)}var f;!function(e){e.disabled="disabled",e.degree="degree",e.min="min",e.max="max"}(f||(f={}));const x=f,{isNaN:y}=globalThis,v=document.createElement("template");v.innerHTML='\n  <style>\n    :host {\n      position: relative;\n      display: inline-block;\n      vertical-align: text-bottom;\n    }\n\n    knob {\n      transform: rotate(var(--degree));\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n  </style>\n  <knob>\n    <slot></slot>\n    <cover>\n      <slot name="pointer"></slot>\n    </cover>\n  </knob>\n';class w extends HTMLElement{#disabled=!1;#minDegree=-1/0;#maxDegree=1/0;#degree=0;#domKnob;constructor(){super();const e=this.attachShadow({mode:"open"});e.append(v.content.cloneNode(!0)),this.#domKnob=e.querySelector("knob"),w.observedAttributes.forEach((e=>{this.attributeChangedCallback(e)}))}static get observedAttributes(){return[x.disabled,x.min,x.max,x.degree]}attributeChangedCallback(e){switch(e){default:break;case x.disabled:this.disabled=this.hasAttribute(x.disabled);break;case x.min:this.min=Number(this.getAttribute(x.min)??-1/0),this.degree=Math.max(this.min,this.degree);break;case x.max:this.max=Number(this.getAttribute(x.max)??1/0),this.degree=Math.min(this.max,this.degree);break;case x.degree:this.degree=Number(this.getAttribute(x.degree)??0)}}get disabled(){return this.#disabled}set disabled(t){const r=Boolean(t);r?n(this,g,p):e(this,g,p),this.#disabled=r}get min(){return this.#minDegree}set min(e){if(y(e))throw new TypeError(`Invalid min degree: ${e}`);if(this.#minDegree=e,this.max<e)throw new RangeError(`Setting min degree that is greater than max degree might cause spinning error: ${e} > ${this.max}`)}get max(){return this.#maxDegree}set max(e){if(y(e))throw new TypeError(`Invalid max degree: ${e}`);if(this.#maxDegree=e,this.min>e)throw new RangeError(`Setting max degree that is less than min degree might cause spinning error: ${e} < ${this.min}`)}get degree(){return this.#degree}set degree(e){const{degree:n}=this;if(e===n)return;if(y(e))throw new TypeError(`Invalid degree: ${e}`);const r=Math.max(Math.min(e,this.max),this.min);this.#domKnob.style.setProperty("--degree",`${r}deg`),this.#degree=r,t(this,o.change,{bubbles:!1,cancelable:!1,detail:{degree:r,lastDegree:n,offsetDegree:r-n}})}get value(){return this.degree}set value(e){this.degree=e}}r(w,"knob-base");const k=w,E=document.createElement("template");E.innerHTML="\n  <style>\n    :host {\n      --size: 80px;\n      \n      width: var(--size);\n      height: var(--size);\n    }\n\n    knob {\n      position: relative;\n      border-radius: 50%;\n      box-sizing: border-box;\n      border: 1px solid currentColor;\n      background: #f3f3f3;\n      color: #aaa;\n      overflow: hidden;\n    }\n\n    knob:hover,\n    knob:active {\n      color: #888;\n      background: #eee;\n    }\n\n    cover {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      display: flex;\n      z-index: 1;\n    }\n\n    slot[name=pointer] {\n      margin: 0 auto;\n      display: block;\n    }\n\n    ::slotted([slot=pointer]) {\n      display: none;\n    }\n\n    knob > slot {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      display: block;\n    }\n  </style>\n";const D=class extends k{constructor(){super(),this.shadowRoot.append(E.content.cloneNode(!0))}},M=document.createElement("template");M.innerHTML="\n  <style>\n    slot[name=pointer] {\n      margin-top: 5%;\n      border-radius: 50%;\n      width: 10%;\n      height: 10%;\n      background: currentColor;\n    }\n  </style>\n";r(class extends D{constructor(){super(),this.shadowRoot.append(M.content.cloneNode(!0))}},"knob-dot");const T=document.createElement("template");T.innerHTML="\n  <style>\n    slot[name=pointer] {\n      transform: rotate(45deg);\n      margin-top: 5%;\n      width: 10%;\n      height: 10%;\n      background-image: linear-gradient(\n        135deg,\n        currentColor 50%,\n        transparent 50%\n      );\n    }\n  </style>\n";r(class extends D{constructor(){super(),this.shadowRoot.append(T.content.cloneNode(!0))}},"knob-triangle");const C=document.createElement("template");C.innerHTML="\n  <style>\n    slot[name=pointer] {\n      width: 3%;\n      height: 15%;\n      background: currentColor;\n    }\n  </style>\n";r(class extends D{constructor(){super(),this.shadowRoot.append(C.content.cloneNode(!0))}},"knob-line")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFZLEVBQ1pFLE9BQVEsQ0FDTk4sT0FBQUEsRUFDQU8sV0FBQUEsRUFDQUMsYUFBY1IsRUFBU08sS0FRcEIsWUFDUCxPQUFPTCxLQUFLRixPQU1MLFVBQUMrRCxHQUNSN0QsS0FBS0YsT0FBUytELEdBSWxCUSxFQUFnQjdCLEVBM05DLGFBNk5qQixVQ25PTUgsRUFBV0wsU0FBU00sY0FBYyxZQUV4Q0QsRUFBU0UsVUFBYSwrM0JBK0R0QixRQVRBLGNBQXVCQyxFQUNyQkcsY0FDRUMsUUFFQzVDLEtBQUs2QyxXQUNIRyxPQUFPWCxFQUFTWSxRQUFRQyxXQUFVLE1DM0RuQ2IsRUFBV0wsU0FBU00sY0FBYyxZQUV4Q0QsRUFBU0UsVUFBYSx1TEFxQnRCOEIsRUFUQSxjQUFzQkMsRUFDcEIzQixjQUNFQyxRQUVDNUMsS0FBSzZDLFdBQ0hHLE9BQU9YLEVBQVNZLFFBQVFDLFdBQVUsTUFwQnhCLFlBMEJqQixNQ3pCTWIsRUFBV0wsU0FBU00sY0FBYyxZQUV4Q0QsRUFBU0UsVUFBYSxxUkF5QnRCOEIsRUFUQSxjQUEyQkMsRUFDekIzQixjQUNFQyxRQUVDNUMsS0FBSzZDLFdBQ0hHLE9BQU9YLEVBQVNZLFFBQVFDLFdBQVUsTUF4QnhCLGlCQThCakIsTUM3Qk1iLEVBQVdMLFNBQVNNLGNBQWMsWUFFeENELEVBQVNFLFVBQWEsb0lBbUJ0QjhCLEVBVEEsY0FBdUJDLEVBQ3JCM0IsY0FDRUMsUUFFQzVDLEtBQUs2QyxXQUNIRyxPQUFPWCxFQUFTWSxRQUFRQyxXQUFVLE1BbEJ4QixjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGxmMmNvbS9rbm9iLmpzLy4vc3JjL3V0aWxzL2V2ZW50SGFuZGxlci50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMvdXRpbHMvcmVnaXN0ZXJFbGVtZW50LnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy92YWx1ZXMvZXZlbnRzLnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy91dGlscy9nZXRFdmVudFhZLnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy91dGlscy9yYWRpdXNBbmREZWdyZWUudHMiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9rbm9iLmpzLy4vc3JjL3V0aWxzL3NwaW5MaXN0ZW5lci50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMvdmFsdWVzL2F0dHJpYnV0ZXMudHMiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9rbm9iLmpzLy4vc3JjL2tub2IudHMiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9rbm9iLmpzLy4vc3JjL2tub2JzL2Jhc2ljLnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy9rbm9icy9kb3QudHMiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9rbm9iLmpzLy4vc3JjL2tub2JzL3RyaWFuZ2xlLnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy9rbm9icy9saW5lLnRzIl0sInNvdXJjZXNDb250ZW50IjpbInR5cGUgRXZlbnRIb2xkZXIgPSBIVE1MRWxlbWVudCB8IERvY3VtZW50IHwgV2luZG93O1xudHlwZSBFdmVudExpc3RlbmVyID0gKC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkO1xuXG5pbnRlcmZhY2UgRXZlbnRMaXN0ZW5lck9wdGlvbnMge1xuICBjYXB0dXJlPzogYm9vbGVhbjtcbiAgb25jZT86IGJvb2xlYW47XG4gIHBhc3NpdmU/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIEFkZHMgZXZlbnQgb2YgdHlwZSB0byBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcihcbiAgcmVmOiBFdmVudEhvbGRlcixcbiAgdHlwZTogc3RyaW5nLFxuICBsaXN0ZW5lcjogRXZlbnRMaXN0ZW5lcixcbiAgb3B0aW9ucz86IEV2ZW50TGlzdGVuZXJPcHRpb25zLFxuKTogdm9pZCB7XG4gIHJlZi5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbn1cblxuLyoqXG4gKiBBZGRzIGV2ZW50cyBvZiB0eXBlcyB0byBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRXZlbnRMaXN0ZW5lcnMoXG4gIHJlZjogRXZlbnRIb2xkZXIsXG4gIHR5cGVzOiBzdHJpbmdbXSxcbiAgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIsXG4gIG9wdGlvbnM/OiBFdmVudExpc3RlbmVyT3B0aW9ucyxcbik6IHZvaWQge1xuICB0eXBlcy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihyZWYsIHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBldmVudCBvZiB0eXBlIGZyb20gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIoXG4gIHJlZjogRXZlbnRIb2xkZXIsXG4gIHR5cGU6IHN0cmluZyxcbiAgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIsXG4gIG9wdGlvbnM/OiBFdmVudExpc3RlbmVyT3B0aW9ucyxcbik6IHZvaWQge1xuICByZWYucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyBldmVudHMgb2YgdHlwZXMgZnJvbSBlbGVtZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoXG4gIHJlZjogRXZlbnRIb2xkZXIsXG4gIHR5cGVzOiBzdHJpbmdbXSxcbiAgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIsXG4gIG9wdGlvbnM/OiBFdmVudExpc3RlbmVyT3B0aW9ucyxcbik6IHZvaWQge1xuICB0eXBlcy5mb3JFYWNoKCh0eXBlKSA9PiB7XG4gICAgcmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xuICB9KTtcbn1cblxuaW50ZXJmYWNlIEN1c3RvbUV2ZW50SW5pdDxUPiB7XG4gIGRldGFpbD86IFQ7XG4gIGJ1YmJsZXM/OiBib29sZWFuO1xuICBjYW5jZWxhYmxlPzogYm9vbGVhbjtcbiAgY29tcG9zZWQ/OiBib29sZWFuO1xufVxuXG4vKipcbiAqIFRyaWdnZXJzIGV2ZW50IGFuZCByZXR1cm5zIGZhbHNlIGlmIHRoZSBldmVudCBpcyBjYW5jZWxsZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyRXZlbnQ8VD4oXG4gIHJlZjogRXZlbnRIb2xkZXIsXG4gIHR5cGU6IHN0cmluZyxcbiAgb3B0aW9ucz86IEN1c3RvbUV2ZW50SW5pdDxUPixcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gcmVmLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KHR5cGUsIG9wdGlvbnMpKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VycyBldmVudHMgYW5kIHJldHVybnMgZmFsc2UgaWYgYW55IG9mIHRoZSBldmVudCBpc1xuICogY2FuY2VsbGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckV2ZW50czxUPihcbiAgcmVmOiBFdmVudEhvbGRlcixcbiAgdHlwZXM6IHN0cmluZ1tdLFxuICBvcHRpb25zPzogQ3VzdG9tRXZlbnRJbml0PFQ+LFxuKTogYm9vbGVhbiB7XG4gIHJldHVybiB0eXBlcy5ldmVyeSgodHlwZSkgPT4gdHJpZ2dlckV2ZW50KHJlZiwgdHlwZSwgb3B0aW9ucykpO1xufVxuIiwiLyoqXG4gKiBSZWdpc3RlcnMgS25vYiBlbGVtZW50LlxuICovXG5mdW5jdGlvbiByZWdpc3RlckVsZW1lbnQoXG4gIE5vZGU6IHR5cGVvZiBIVE1MRWxlbWVudCxcbiAgbm9kZU5hbWU6IHN0cmluZyxcbik6IFJldHVyblR5cGU8dHlwZW9mIGN1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkPiB7XG4gIGlmIChjdXN0b21FbGVtZW50cy5nZXQobm9kZU5hbWUpKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KFxuICAgICAgbmV3IEVycm9yKGBBbHJlYWR5IGRlZmluZWQgPCR7bm9kZU5hbWV9PmApLFxuICAgICk7XG4gIH1cblxuICBjdXN0b21FbGVtZW50cy5kZWZpbmUobm9kZU5hbWUsIE5vZGUpO1xuXG4gIHJldHVybiBjdXN0b21FbGVtZW50cy53aGVuRGVmaW5lZChub2RlTmFtZSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlZ2lzdGVyRWxlbWVudDtcbiIsImVudW0gRXZlbnRzIHtcbiAgc3BpblN0YXJ0ID0gJ3NwaW5zdGFydCcsXG4gIHNwaW5uaW5nID0gJ3NwaW5uaW5nJyxcbiAgc3BpbkVuZCA9ICdzcGluZW5kJyxcbiAgY2hhbmdlID0gJ2NoYW5nZScsXG59XG5cbmV4cG9ydCBkZWZhdWx0IEV2ZW50cztcbiIsImltcG9ydCBQb2ludCBmcm9tICcuL1BvaW50JztcblxuLyoqXG4gKiBSZXR1cm5zICh4LCB5KSBvZiBtb3VzdC90b3VjaCBldmVudC5cbiAqL1xuZnVuY3Rpb24gZ2V0RXZlbnRYWShldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpOiBQb2ludCB7XG4gIGlmIChldmVudCBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgIHk6IGV2ZW50LmNsaWVudFksXG4gICAgfTtcbiAgfVxuICBpZiAoZXZlbnQgaW5zdGFuY2VvZiBUb3VjaEV2ZW50KSB7XG4gICAgY29uc3QgeyB0b3VjaGVzOiBbdG91Y2hdIH0gPSBldmVudDtcbiAgICByZXR1cm4ge1xuICAgICAgeDogdG91Y2guY2xpZW50WCxcbiAgICAgIHk6IHRvdWNoLmNsaWVudFksXG4gICAgfTtcbiAgfVxuXG4gIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihgSWxsZWdhbCBldmVudDogJHtldmVudH1gKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZ2V0RXZlbnRYWTtcbiIsImltcG9ydCBQb2ludCBmcm9tICcuL1BvaW50JztcblxuY29uc3QgeyBQSSwgaHlwb3QsIGFzaW4gfSA9IE1hdGg7XG5jb25zdCBvcmlnaW5Qb2ludDogUG9pbnQgPSB7IHg6IDAsIHk6IDAgfTtcblxudHlwZSBRdWFkcmFudCA9IDEgfCAyIHwgMyB8IDQ7XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcXVhZHJhbnQgWzEsIDRdIG9mIHBvaW50IGZyb20gY2VudGVyLiBUaGUgdmFsdWVcbiAqIGlzIGJhc2VkIG9uIHJhZGl1czogUTEgPSBbMCwgUEkgLyAyKSwgUTIgPSBbUEkgLyAyLCBQSSksXG4gKiBRMyA9IFtQSSwgKDMgKiBQSSkgLyAyKSwgUTQgPSBbKDMgKiBQSSkgLyAyLCAyICogUEkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UXVhZHJhbnQoXG4gIHBvaW50OiBQb2ludCxcbiAgY2VudGVyOiBQb2ludCA9IG9yaWdpblBvaW50LFxuKTogUXVhZHJhbnQge1xuICBpZiAocG9pbnQueSA8IGNlbnRlci55KSB7XG4gICAgcmV0dXJuIHBvaW50LnggPiBjZW50ZXIueCA/IDEgOiAyO1xuICB9XG4gIGlmIChwb2ludC54IDwgY2VudGVyLngpIHtcbiAgICByZXR1cm4gMztcbiAgfVxuXG4gIHJldHVybiBwb2ludC55ID4gY2VudGVyLnkgPyA0IDogMTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByYWRpdXMgdmFsdWUgc3RhcnRpbmcgZnJvbSB0aGUgcXVhZHJhbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRSYWRpdXNPZlF1YWRyYW50KFxuICBwb2ludDogUG9pbnQsXG4gIGNlbnRlcjogUG9pbnQgPSBvcmlnaW5Qb2ludCxcbiAgcXVhZHJhbnQgPSBnZXRRdWFkcmFudChwb2ludCwgY2VudGVyKSxcbik6IG51bWJlciB7XG4gIGNvbnN0IGRpZmZYID0gcG9pbnQueCAtIGNlbnRlci54O1xuICBjb25zdCBkaWZmWSA9IHBvaW50LnkgLSBjZW50ZXIueTtcbiAgY29uc3QgbGVuZ3RoID0gaHlwb3QoZGlmZlgsIGRpZmZZKTtcblxuICBzd2l0Y2ggKHF1YWRyYW50KSB7XG4gICAgZGVmYXVsdDpcbiAgICBjYXNlIDE6IHJldHVybiBhc2luKC1kaWZmWSAvIGxlbmd0aCk7XG4gICAgY2FzZSAyOiByZXR1cm4gYXNpbigtZGlmZlggLyBsZW5ndGgpO1xuICAgIGNhc2UgMzogcmV0dXJuIGFzaW4oZGlmZlkgLyBsZW5ndGgpO1xuICAgIGNhc2UgNDogcmV0dXJuIGFzaW4oZGlmZlggLyBsZW5ndGgpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBwb3NpdGl2ZSB2YWx1ZSBmb3IgY2xvY2t3aXNlLCBuZWdhdGl2ZSB2YWx1ZSBmb3JcbiAqIGNvdW50ZXJjbG9ja3dpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREaWZmUmFkaXVzKFxuICBsYXN0UXVhZHJhbnQ6IFF1YWRyYW50LFxuICBsYXN0UmFkaXVzOiBudW1iZXIsXG4gIG5leHRRdWFkcmFudDogUXVhZHJhbnQsXG4gIG5leHRSYWRpdXM6IG51bWJlcixcbik6IG51bWJlciB7XG4gIHN3aXRjaCAobmV4dFF1YWRyYW50IC0gbGFzdFF1YWRyYW50KSB7XG4gICAgZGVmYXVsdDpcbiAgICBjYXNlIDA6XG4gICAgICAvLyB0aGUgc2FtZSBxdWFkcmFudFxuICAgICAgcmV0dXJuIGxhc3RSYWRpdXMgLSBuZXh0UmFkaXVzO1xuICAgIGNhc2UgLTM6XG4gICAgY2FzZSAxOlxuICAgICAgLy8gdG8gdGhlIG5leHQgcXVhZHJhbnRcbiAgICAgIHJldHVybiBsYXN0UmFkaXVzIC0gbmV4dFJhZGl1cyAtIFBJIC8gMjtcbiAgICBjYXNlIC0xOlxuICAgIGNhc2UgMzpcbiAgICAgIC8vIHRvIHRoZSBwcmV2IHF1YWRyYW50XG4gICAgICByZXR1cm4gbGFzdFJhZGl1cyAtIG5leHRSYWRpdXMgKyBQSSAvIDI7XG4gICAgY2FzZSAtMjpcbiAgICBjYXNlIDI6IHtcbiAgICAgIC8vIHRvIHRoZSBkaWFnb25hbCBxdWFkcmFudFxuICAgICAgY29uc3QgcmFkaXVzID0gbGFzdFJhZGl1cyArIFBJIC0gbmV4dFJhZGl1cztcblxuICAgICAgcmV0dXJuIHJhZGl1cyA+IFBJID8gMiAqIFBJIC0gcmFkaXVzIDogcmFkaXVzO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIHJhZGl1cyB0byBkZWdyZXNzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmFkaXVzVG9EZWdyZWUocmFkaXVzOiBudW1iZXIpOiBudW1iZXIge1xuICByZXR1cm4gMTgwICogKHJhZGl1cyAvIFBJKTtcbn1cbiIsImltcG9ydCBLbm9iIGZyb20gJy4uL2tub2InO1xuaW1wb3J0IEV2ZW50cyBmcm9tICcuLi92YWx1ZXMvZXZlbnRzJztcbmltcG9ydCB7XG4gIGFkZEV2ZW50TGlzdGVuZXJzLCByZW1vdmVFdmVudExpc3RlbmVycywgdHJpZ2dlckV2ZW50LFxufSBmcm9tICcuL2V2ZW50SGFuZGxlcic7XG5pbXBvcnQgZ2V0RXZlbnRYWSBmcm9tICcuL2dldEV2ZW50WFknO1xuaW1wb3J0IHtcbiAgZ2V0RGlmZlJhZGl1cywgZ2V0UXVhZHJhbnQsIGdldFJhZGl1c09mUXVhZHJhbnQsXG4gIHJhZGl1c1RvRGVncmVlLFxufSBmcm9tICcuL3JhZGl1c0FuZERlZ3JlZSc7XG5cbmNvbnN0IEVWRU5UX1RPVUNIX1NUQVJUID0gWydtb3VzZWRvd24nLCAndG91Y2hzdGFydCddO1xuY29uc3QgRVZFTlRfVE9VQ0hfTU9WRSA9IFsnbW91c2Vtb3ZlJywgJ3RvdWNobW92ZSddO1xuY29uc3QgRVZFTlRfVE9VQ0hfRU5EID0gWydtb3VzZXVwJywgJ3RvdWNoZW5kJ107XG5cbmV4cG9ydCBpbnRlcmZhY2UgU3BpbkV2ZW50RGV0YWlsIHtcbiAgZGVncmVlOiBudW1iZXI7XG4gIGxhc3REZWdyZWU6IG51bWJlcjtcbiAgb2Zmc2V0RGVncmVlOiBudW1iZXI7XG59XG5cbi8qKlxuICogSGFuZGxlcyBzcGluc3RhcnQgZXZlbnQgYmluZGVkIHdpdGggbW91c2VzdGFydC90b3VjaHN0YXJ0XG4gKiBldmVudHMuXG4gKi9cbmZ1bmN0aW9uIHNwaW5TdGFydExpc3RlbmVyKFxuICB0aGlzOiBLbm9iLFxuICBldmVudDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQsXG4pOiB2b2lkIHtcbiAgY29uc3Qge1xuICAgIGRlZ3JlZTogc3RhcnREZWdyZWUsXG4gIH0gPSB0aGlzO1xuICBjb25zdCBhbGxTdGFydEV2ZW50c1Bhc3NlZCA9IHRyaWdnZXJFdmVudDxTcGluRXZlbnREZXRhaWw+KFxuICAgIHRoaXMsXG4gICAgRXZlbnRzLnNwaW5TdGFydCxcbiAgICB7XG4gICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgIGNvbXBvc2VkOiB0cnVlLFxuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIGRlZ3JlZTogc3RhcnREZWdyZWUsXG4gICAgICAgIGxhc3REZWdyZWU6IHN0YXJ0RGVncmVlLFxuICAgICAgICBvZmZzZXREZWdyZWU6IDAsXG4gICAgICB9LFxuICAgIH0sXG4gICk7XG5cbiAgaWYgKCFhbGxTdGFydEV2ZW50c1Bhc3NlZCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IHtcbiAgICB0b3AsIHJpZ2h0LCBib3R0b20sIGxlZnQsXG4gIH0gPSB0aGlzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICBjb25zdCBjZW50ZXIgPSB7XG4gICAgeDogKHJpZ2h0ICsgbGVmdCkgLyAyLFxuICAgIHk6ICh0b3AgKyBib3R0b20pIC8gMixcbiAgfTtcbiAgY29uc3Qgc3RhcnRQcmVzc1BvaW50ID0gZ2V0RXZlbnRYWShldmVudCk7XG4gIGNvbnN0IHN0YXJ0UHJlc3NRdWFkcmFudCA9IGdldFF1YWRyYW50KFxuICAgIHN0YXJ0UHJlc3NQb2ludCxcbiAgICBjZW50ZXIsXG4gICk7XG4gIGNvbnN0IHN0YXJ0UHJlc3NSYWRpdXMgPSBnZXRSYWRpdXNPZlF1YWRyYW50KFxuICAgIHN0YXJ0UHJlc3NQb2ludCxcbiAgICBjZW50ZXIsXG4gICAgc3RhcnRQcmVzc1F1YWRyYW50LFxuICApO1xuXG4gIGxldCB0b3RhbERpZmZEZWdyZWUgPSAwO1xuICBsZXQgbGFzdFF1YWRyYW50ID0gc3RhcnRQcmVzc1F1YWRyYW50O1xuICBsZXQgbGFzdFJhZGl1cyA9IHN0YXJ0UHJlc3NSYWRpdXM7XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgc3Bpbm5pbmcvY2hhbmdpbmcgZXZlbnRzIGJpbmRlZCB3aXRoXG4gICAqIG1vdXNlbW92ZS90b3VjaG1vdmUgZXZlbnRzLlxuICAgKi9cbiAgY29uc3Qgc3Bpbm5pbmdMaXN0ZW5lciA9IChldnQ6IE1vdXNlRXZlbnQgfCBUb3VjaEV2ZW50KSA9PiB7XG4gICAgY29uc3QgcHJlc3NQb2ludCA9IGdldEV2ZW50WFkoZXZ0KTtcbiAgICBjb25zdCBwcmVzc1F1YWRyYW50ID0gZ2V0UXVhZHJhbnQoXG4gICAgICBwcmVzc1BvaW50LFxuICAgICAgY2VudGVyLFxuICAgICk7XG4gICAgY29uc3QgcHJlc3NSYWRpdXMgPSBnZXRSYWRpdXNPZlF1YWRyYW50KFxuICAgICAgcHJlc3NQb2ludCxcbiAgICAgIGNlbnRlcixcbiAgICAgIHByZXNzUXVhZHJhbnQsXG4gICAgKTtcbiAgICBjb25zdCBkaWZmUmFkaXVzID0gZ2V0RGlmZlJhZGl1cyhcbiAgICAgIGxhc3RRdWFkcmFudCxcbiAgICAgIGxhc3RSYWRpdXMsXG4gICAgICBwcmVzc1F1YWRyYW50LFxuICAgICAgcHJlc3NSYWRpdXMsXG4gICAgKTtcbiAgICBjb25zdCBkaWZmRGVncmVlID0gcmFkaXVzVG9EZWdyZWUoZGlmZlJhZGl1cyk7XG4gICAgY29uc3Qge1xuICAgICAgZGVncmVlOiBsYXN0RGVncmVlLFxuICAgIH0gPSB0aGlzO1xuXG4gICAgdG90YWxEaWZmRGVncmVlICs9IGRpZmZEZWdyZWU7XG5cbiAgICBjb25zdCBuZXh0RGVncmVlID0gc3RhcnREZWdyZWUgKyB0b3RhbERpZmZEZWdyZWU7XG4gICAgY29uc3QgYWxsTW92ZUV2ZW50c1Bhc3NlZCA9IHRyaWdnZXJFdmVudDxTcGluRXZlbnREZXRhaWw+KFxuICAgICAgdGhpcyxcbiAgICAgIEV2ZW50cy5zcGlubmluZyxcbiAgICAgIHtcbiAgICAgICAgYnViYmxlczogdHJ1ZSxcbiAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZSxcbiAgICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIGRlZ3JlZTogbmV4dERlZ3JlZSxcbiAgICAgICAgICBsYXN0RGVncmVlLFxuICAgICAgICAgIG9mZnNldERlZ3JlZTogdG90YWxEaWZmRGVncmVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICApO1xuXG4gICAgbGFzdFF1YWRyYW50ID0gcHJlc3NRdWFkcmFudDtcbiAgICBsYXN0UmFkaXVzID0gcHJlc3NSYWRpdXM7XG5cbiAgICBpZiAoIWFsbE1vdmVFdmVudHNQYXNzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLmRlZ3JlZSA9IG5leHREZWdyZWU7XG4gIH07XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgc3BpbmVuZC9jaGFuZ2VkIGV2ZW50cyBiaW5kZWQgd2l0aCBtb3VzZXVwL3RvdWNoZW5kXG4gICAqIGV2ZW50cy5cbiAgICovXG4gIGNvbnN0IHNwaW5FbmRMaXN0ZW5lciA9ICgpID0+IHtcbiAgICBjb25zdCB7IGRlZ3JlZSB9ID0gdGhpcztcblxuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGRvY3VtZW50LCBFVkVOVF9UT1VDSF9NT1ZFLCBzcGlubmluZ0xpc3RlbmVyKTtcbiAgICByZW1vdmVFdmVudExpc3RlbmVycyhkb2N1bWVudCwgRVZFTlRfVE9VQ0hfRU5ELCBzcGluRW5kTGlzdGVuZXIpO1xuICAgIHRyaWdnZXJFdmVudDxTcGluRXZlbnREZXRhaWw+KFxuICAgICAgdGhpcyxcbiAgICAgIEV2ZW50cy5zcGluRW5kLFxuICAgICAge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjYW5jZWxhYmxlOiBmYWxzZSxcbiAgICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICAgIGRldGFpbDoge1xuICAgICAgICAgIGRlZ3JlZSxcbiAgICAgICAgICBsYXN0RGVncmVlOiBzdGFydERlZ3JlZSxcbiAgICAgICAgICBvZmZzZXREZWdyZWU6IHRvdGFsRGlmZkRlZ3JlZSxcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgKTtcbiAgfTtcblxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBhZGRFdmVudExpc3RlbmVycyhkb2N1bWVudCwgRVZFTlRfVE9VQ0hfTU9WRSwgc3Bpbm5pbmdMaXN0ZW5lcik7XG4gIGFkZEV2ZW50TGlzdGVuZXJzKGRvY3VtZW50LCBFVkVOVF9UT1VDSF9FTkQsIHNwaW5FbmRMaXN0ZW5lcik7XG59XG5cbi8qKlxuICogQWRkcyBsaXN0ZW5lcnMgb2YgS25vYi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZFNwaW5MaXN0ZW5lcnMocmVmOiBLbm9iKTogdm9pZCB7XG4gIGFkZEV2ZW50TGlzdGVuZXJzKHJlZiwgRVZFTlRfVE9VQ0hfU1RBUlQsIHNwaW5TdGFydExpc3RlbmVyKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGxpc3RlbmVycyBvZiBLbm9iLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlU3Bpbkxpc3RlbmVycyhyZWY6IEtub2IpOiB2b2lkIHtcbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMocmVmLCBFVkVOVF9UT1VDSF9TVEFSVCwgc3BpblN0YXJ0TGlzdGVuZXIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzcGluU3RhcnRMaXN0ZW5lcjtcbiIsImVudW0gQXR0cmlidXRlcyB7XG4gIGRpc2FibGVkID0gJ2Rpc2FibGVkJyxcbiAgZGVncmVlID0gJ2RlZ3JlZScsXG4gIG1pbiA9ICdtaW4nLFxuICBtYXggPSAnbWF4Jyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgQXR0cmlidXRlcztcbiIsImltcG9ydCB7IHRyaWdnZXJFdmVudCB9IGZyb20gJy4vdXRpbHMvZXZlbnRIYW5kbGVyJztcbmltcG9ydCByZWdpc3RlckVsZW1lbnQgZnJvbSAnLi91dGlscy9yZWdpc3RlckVsZW1lbnQnO1xuaW1wb3J0IHtcbiAgYWRkU3Bpbkxpc3RlbmVycywgcmVtb3ZlU3Bpbkxpc3RlbmVycywgU3BpbkV2ZW50RGV0YWlsLFxufSBmcm9tICcuL3V0aWxzL3NwaW5MaXN0ZW5lcic7XG5pbXBvcnQgQXR0cmlidXRlcyBmcm9tICcuL3ZhbHVlcy9hdHRyaWJ1dGVzJztcbmltcG9ydCBFdmVudHMgZnJvbSAnLi92YWx1ZXMvZXZlbnRzJztcblxuY29uc3Qgbm9kZU5hbWUgPSAna25vYi1iYXNlJztcblxuY29uc3QgeyBpc05hTiB9ID0gZ2xvYmFsVGhpcztcbmNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGVtcGxhdGUnKTtcblxudGVtcGxhdGUuaW5uZXJIVE1MID0gYFxuICA8c3R5bGU+XG4gICAgOmhvc3Qge1xuICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgdmVydGljYWwtYWxpZ246IHRleHQtYm90dG9tO1xuICAgIH1cblxuICAgIGtub2Ige1xuICAgICAgdHJhbnNmb3JtOiByb3RhdGUodmFyKC0tZGVncmVlKSk7XG4gICAgICB3aWR0aDogMTAwJTtcbiAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cbiAgPC9zdHlsZT5cbiAgPGtub2I+XG4gICAgPHNsb3Q+PC9zbG90PlxuICAgIDxjb3Zlcj5cbiAgICAgIDxzbG90IG5hbWU9XCJwb2ludGVyXCI+PC9zbG90PlxuICAgIDwvY292ZXI+XG4gIDwva25vYj5cbmA7XG5cbmNsYXNzIEtub2IgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG4gICNkaXNhYmxlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICNtaW5EZWdyZWU6IG51bWJlciA9IC1JbmZpbml0eTtcblxuICAjbWF4RGVncmVlOiBudW1iZXIgPSBJbmZpbml0eTtcblxuICAjZGVncmVlOiBudW1iZXIgPSAwO1xuXG4gICNkb21Lbm9iOiBIVE1MRWxlbWVudDtcblxuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgY29uc3Qgc2hhZG93Um9vdCA9IHRoaXMuYXR0YWNoU2hhZG93KHsgbW9kZTogJ29wZW4nIH0pO1xuXG4gICAgc2hhZG93Um9vdC5hcHBlbmQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICAgIHRoaXMuI2RvbUtub2IgPSBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2tub2InKSBhcyBIVE1MRWxlbWVudDtcbiAgICBLbm9iLm9ic2VydmVkQXR0cmlidXRlcy5mb3JFYWNoKChhdHRyTmFtZSkgPT4ge1xuICAgICAgdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ck5hbWUpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIEF0dHJpYnV0ZXMuZGlzYWJsZWQsXG4gICAgICBBdHRyaWJ1dGVzLm1pbixcbiAgICAgIEF0dHJpYnV0ZXMubWF4LFxuICAgICAgQXR0cmlidXRlcy5kZWdyZWUsXG4gICAgXTtcbiAgfVxuXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyTmFtZTogc3RyaW5nKSB7XG4gICAgc3dpdGNoIChhdHRyTmFtZSkge1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQXR0cmlidXRlcy5kaXNhYmxlZDpcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMuaGFzQXR0cmlidXRlKEF0dHJpYnV0ZXMuZGlzYWJsZWQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBBdHRyaWJ1dGVzLm1pbjpcbiAgICAgICAgdGhpcy5taW4gPSBOdW1iZXIoXG4gICAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5taW4pXG4gICAgICAgICAgPz8gLUluZmluaXR5LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRlZ3JlZSA9IE1hdGgubWF4KHRoaXMubWluLCB0aGlzLmRlZ3JlZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIEF0dHJpYnV0ZXMubWF4OlxuICAgICAgICB0aGlzLm1heCA9IE51bWJlcihcbiAgICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLm1heClcbiAgICAgICAgICA/PyBJbmZpbml0eSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5kZWdyZWUgPSBNYXRoLm1pbih0aGlzLm1heCwgdGhpcy5kZWdyZWUpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBBdHRyaWJ1dGVzLmRlZ3JlZTpcbiAgICAgICAgdGhpcy5kZWdyZWUgPSBOdW1iZXIoXG4gICAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5kZWdyZWUpXG4gICAgICAgICAgPz8gMCxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBLbm9iIGlzIGRpc2FibGVkLlxuICAgKi9cbiAgZ2V0IGRpc2FibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLiNkaXNhYmxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIEtub2IgZGlzYWJsZWQuXG4gICAqL1xuICBzZXQgZGlzYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBkaXNhYmxlZCA9IEJvb2xlYW4odmFsdWUpO1xuXG4gICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICByZW1vdmVTcGluTGlzdGVuZXJzKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZGRTcGluTGlzdGVuZXJzKHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuI2Rpc2FibGVkID0gZGlzYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBtaW4gZGVncmVlLlxuICAgKi9cbiAgZ2V0IG1pbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNtaW5EZWdyZWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBtaW4gZGVncmVlLlxuICAgKi9cbiAgc2V0IG1pbihtaW5EZWdyZWU6IG51bWJlcikge1xuICAgIGlmIChpc05hTihtaW5EZWdyZWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIG1pbiBkZWdyZWU6ICR7bWluRGVncmVlfWApO1xuICAgIH1cblxuICAgIHRoaXMuI21pbkRlZ3JlZSA9IG1pbkRlZ3JlZTtcblxuICAgIGlmICh0aGlzLm1heCA8IG1pbkRlZ3JlZSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgIGBTZXR0aW5nIG1pbiBkZWdyZWUgdGhhdCBpcyBncmVhdGVyIHRoYW4gbWF4IGRlZ3JlZSBtaWdodCBjYXVzZSBzcGlubmluZyBlcnJvcjogJHttaW5EZWdyZWV9ID4gJHt0aGlzLm1heH1gLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBtYXggZGVncmVlLlxuICAgKi9cbiAgZ2V0IG1heCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNtYXhEZWdyZWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBtYXggZGVncmVlLlxuICAgKi9cbiAgc2V0IG1heChtYXhEZWdyZWU6IG51bWJlcikge1xuICAgIGlmIChpc05hTihtYXhEZWdyZWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIG1heCBkZWdyZWU6ICR7bWF4RGVncmVlfWApO1xuICAgIH1cblxuICAgIHRoaXMuI21heERlZ3JlZSA9IG1heERlZ3JlZTtcblxuICAgIGlmICh0aGlzLm1pbiA+IG1heERlZ3JlZSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgIGBTZXR0aW5nIG1heCBkZWdyZWUgdGhhdCBpcyBsZXNzIHRoYW4gbWluIGRlZ3JlZSBtaWdodCBjYXVzZSBzcGlubmluZyBlcnJvcjogJHttYXhEZWdyZWV9IDwgJHt0aGlzLm1pbn1gLFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBkZWdyZWUuXG4gICAqL1xuICBnZXQgZGVncmVlKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI2RlZ3JlZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIGRlZ3JlZS5cbiAgICovXG4gIHNldCBkZWdyZWUodmFsdWU6IG51bWJlcikge1xuICAgIGNvbnN0IHtcbiAgICAgIGRlZ3JlZTogbGFzdERlZ3JlZSxcbiAgICB9ID0gdGhpcztcblxuICAgIGlmICh2YWx1ZSA9PT0gbGFzdERlZ3JlZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIGRlZ3JlZTogJHt2YWx1ZX1gKTtcbiAgICB9XG5cbiAgICBjb25zdCBkZWdyZWUgPSBNYXRoLm1heChcbiAgICAgIE1hdGgubWluKHZhbHVlLCB0aGlzLm1heCksXG4gICAgICB0aGlzLm1pbixcbiAgICApO1xuXG4gICAgdGhpcy4jZG9tS25vYi5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1kZWdyZWUnLCBgJHtkZWdyZWV9ZGVnYCk7XG4gICAgdGhpcy4jZGVncmVlID0gZGVncmVlO1xuICAgIHRyaWdnZXJFdmVudDxTcGluRXZlbnREZXRhaWw+KHRoaXMsIEV2ZW50cy5jaGFuZ2UsIHtcbiAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgZGVncmVlLFxuICAgICAgICBsYXN0RGVncmVlLFxuICAgICAgICBvZmZzZXREZWdyZWU6IGRlZ3JlZSAtIGxhc3REZWdyZWUsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsaWFzIG9mIGdldHRpbmcgZGVncmVlLlxuICAgKi9cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmRlZ3JlZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGlhcyBvZiBzZXR0aW5nIGRlZ3JlZS5cbiAgICovXG4gIHNldCB2YWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMuZGVncmVlID0gdmFsdWU7XG4gIH1cbn1cblxucmVnaXN0ZXJFbGVtZW50KEtub2IsIG5vZGVOYW1lKTtcblxuZXhwb3J0IGRlZmF1bHQgS25vYjtcbiIsImltcG9ydCBLbm9iIGZyb20gJy4uL2tub2InO1xuXG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIC0tc2l6ZTogODBweDtcbiAgICAgIFxuICAgICAgd2lkdGg6IHZhcigtLXNpemUpO1xuICAgICAgaGVpZ2h0OiB2YXIoLS1zaXplKTtcbiAgICB9XG5cbiAgICBrbm9iIHtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCBjdXJyZW50Q29sb3I7XG4gICAgICBiYWNrZ3JvdW5kOiAjZjNmM2YzO1xuICAgICAgY29sb3I6ICNhYWE7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cblxuICAgIGtub2I6aG92ZXIsXG4gICAga25vYjphY3RpdmUge1xuICAgICAgY29sb3I6ICM4ODg7XG4gICAgICBiYWNrZ3JvdW5kOiAjZWVlO1xuICAgIH1cblxuICAgIGNvdmVyIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgYm90dG9tOiAwO1xuICAgICAgbGVmdDogMDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICB6LWluZGV4OiAxO1xuICAgIH1cblxuICAgIHNsb3RbbmFtZT1wb2ludGVyXSB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cblxuICAgIDo6c2xvdHRlZChbc2xvdD1wb2ludGVyXSkge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG5cbiAgICBrbm9iID4gc2xvdCB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDUwJTtcbiAgICAgIGxlZnQ6IDUwJTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICA8L3N0eWxlPlxuYDtcblxuY2xhc3MgS25vYkJhc2UgZXh0ZW5kcyBLbm9iIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgICh0aGlzLnNoYWRvd1Jvb3QgYXMgU2hhZG93Um9vdClcbiAgICAgIC5hcHBlbmQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtub2JCYXNlO1xuIiwiaW1wb3J0IEtub2JCYXNlIGZyb20gJy4vYmFzaWMnO1xuaW1wb3J0IHJlZ2lzdGVyRWxlbWVudCBmcm9tICcuLi91dGlscy9yZWdpc3RlckVsZW1lbnQnO1xuXG5jb25zdCBub2RlTmFtZSA9ICdrbm9iLWRvdCc7XG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPHN0eWxlPlxuICAgIHNsb3RbbmFtZT1wb2ludGVyXSB7XG4gICAgICBtYXJnaW4tdG9wOiA1JTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIHdpZHRoOiAxMCU7XG4gICAgICBoZWlnaHQ6IDEwJTtcbiAgICAgIGJhY2tncm91bmQ6IGN1cnJlbnRDb2xvcjtcbiAgICB9XG4gIDwvc3R5bGU+XG5gO1xuXG5jbGFzcyBLbm9iRG90IGV4dGVuZHMgS25vYkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgKHRoaXMuc2hhZG93Um9vdCBhcyBTaGFkb3dSb290KVxuICAgICAgLmFwcGVuZCh0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gIH1cbn1cblxucmVnaXN0ZXJFbGVtZW50KEtub2JEb3QsIG5vZGVOYW1lKTtcblxuZXhwb3J0IGRlZmF1bHQgS25vYkRvdDtcbiIsImltcG9ydCBLbm9iQmFzZSBmcm9tICcuL2Jhc2ljJztcbmltcG9ydCByZWdpc3RlckVsZW1lbnQgZnJvbSAnLi4vdXRpbHMvcmVnaXN0ZXJFbGVtZW50JztcblxuY29uc3Qgbm9kZU5hbWUgPSAna25vYi10cmlhbmdsZSc7XG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPHN0eWxlPlxuICAgIHNsb3RbbmFtZT1wb2ludGVyXSB7XG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XG4gICAgICBtYXJnaW4tdG9wOiA1JTtcbiAgICAgIHdpZHRoOiAxMCU7XG4gICAgICBoZWlnaHQ6IDEwJTtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcbiAgICAgICAgMTM1ZGVnLFxuICAgICAgICBjdXJyZW50Q29sb3IgNTAlLFxuICAgICAgICB0cmFuc3BhcmVudCA1MCVcbiAgICAgICk7XG4gICAgfVxuICA8L3N0eWxlPlxuYDtcblxuY2xhc3MgS25vYlRyaWFuZ2xlIGV4dGVuZHMgS25vYkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgKHRoaXMuc2hhZG93Um9vdCBhcyBTaGFkb3dSb290KVxuICAgICAgLmFwcGVuZCh0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gIH1cbn1cblxucmVnaXN0ZXJFbGVtZW50KEtub2JUcmlhbmdsZSwgbm9kZU5hbWUpO1xuXG5leHBvcnQgZGVmYXVsdCBLbm9iVHJpYW5nbGU7XG4iLCJpbXBvcnQgS25vYkJhc2UgZnJvbSAnLi9iYXNpYyc7XG5pbXBvcnQgcmVnaXN0ZXJFbGVtZW50IGZyb20gJy4uL3V0aWxzL3JlZ2lzdGVyRWxlbWVudCc7XG5cbmNvbnN0IG5vZGVOYW1lID0gJ2tub2ItbGluZSc7XG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPHN0eWxlPlxuICAgIHNsb3RbbmFtZT1wb2ludGVyXSB7XG4gICAgICB3aWR0aDogMyU7XG4gICAgICBoZWlnaHQ6IDE1JTtcbiAgICAgIGJhY2tncm91bmQ6IGN1cnJlbnRDb2xvcjtcbiAgICB9XG4gIDwvc3R5bGU+XG5gO1xuXG5jbGFzcyBLbm9iTGluZSBleHRlbmRzIEtub2JCYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgICh0aGlzLnNoYWRvd1Jvb3QgYXMgU2hhZG93Um9vdClcbiAgICAgIC5hcHBlbmQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG59XG5cbnJlZ2lzdGVyRWxlbWVudChLbm9iTGluZSwgbm9kZU5hbWUpO1xuXG5leHBvcnQgZGVmYXVsdCBLbm9iTGluZTtcbiJdLCJuYW1lcyI6WyJhZGRFdmVudExpc3RlbmVycyIsInJlZiIsInR5cGVzIiwibGlzdGVuZXIiLCJvcHRpb25zIiwiZm9yRWFjaCIsInR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidHJpZ2dlckV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiTm9kZSIsIm5vZGVOYW1lIiwiY3VzdG9tRWxlbWVudHMiLCJnZXQiLCJQcm9taXNlIiwicmVqZWN0IiwiRXJyb3IiLCJkZWZpbmUiLCJ3aGVuRGVmaW5lZCIsIkV2ZW50cyIsImV2ZW50IiwiTW91c2VFdmVudCIsIngiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJUb3VjaEV2ZW50IiwidG91Y2hlcyIsInRvdWNoIiwiUmVmZXJlbmNlRXJyb3IiLCJQSSIsImh5cG90IiwiYXNpbiIsIk1hdGgiLCJvcmlnaW5Qb2ludCIsImdldFF1YWRyYW50IiwicG9pbnQiLCJjZW50ZXIiLCJnZXRSYWRpdXNPZlF1YWRyYW50IiwicXVhZHJhbnQiLCJkaWZmWCIsImRpZmZZIiwibGVuZ3RoIiwiRVZFTlRfVE9VQ0hfU1RBUlQiLCJFVkVOVF9UT1VDSF9NT1ZFIiwiRVZFTlRfVE9VQ0hfRU5EIiwic3BpblN0YXJ0TGlzdGVuZXIiLCJkZWdyZWUiLCJzdGFydERlZ3JlZSIsInRoaXMiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImNvbXBvc2VkIiwiZGV0YWlsIiwibGFzdERlZ3JlZSIsIm9mZnNldERlZ3JlZSIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInN0YXJ0UHJlc3NQb2ludCIsImdldEV2ZW50WFkiLCJzdGFydFByZXNzUXVhZHJhbnQiLCJzdGFydFByZXNzUmFkaXVzIiwidG90YWxEaWZmRGVncmVlIiwibGFzdFF1YWRyYW50IiwibGFzdFJhZGl1cyIsInNwaW5uaW5nTGlzdGVuZXIiLCJldnQiLCJwcmVzc1BvaW50IiwicHJlc3NRdWFkcmFudCIsInByZXNzUmFkaXVzIiwiZGlmZkRlZ3JlZSIsIm5leHRRdWFkcmFudCIsIm5leHRSYWRpdXMiLCJyYWRpdXMiLCJnZXREaWZmUmFkaXVzIiwibmV4dERlZ3JlZSIsImFsbE1vdmVFdmVudHNQYXNzZWQiLCJzcGluRW5kTGlzdGVuZXIiLCJkb2N1bWVudCIsInByZXZlbnREZWZhdWx0IiwiQXR0cmlidXRlcyIsImlzTmFOIiwiZ2xvYmFsVGhpcyIsInRlbXBsYXRlIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsIktub2IiLCJIVE1MRWxlbWVudCIsIkluZmluaXR5IiwiY29uc3RydWN0b3IiLCJzdXBlciIsInNoYWRvd1Jvb3QiLCJhdHRhY2hTaGFkb3ciLCJtb2RlIiwiYXBwZW5kIiwiY29udGVudCIsImNsb25lTm9kZSIsInF1ZXJ5U2VsZWN0b3IiLCJvYnNlcnZlZEF0dHJpYnV0ZXMiLCJhdHRyTmFtZSIsImF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayIsImRpc2FibGVkIiwiaGFzQXR0cmlidXRlIiwibWluIiwiTnVtYmVyIiwiZ2V0QXR0cmlidXRlIiwibWF4IiwidmFsdWUiLCJCb29sZWFuIiwibWluRGVncmVlIiwiVHlwZUVycm9yIiwiUmFuZ2VFcnJvciIsIm1heERlZ3JlZSIsInN0eWxlIiwic2V0UHJvcGVydHkiLCJyZWdpc3RlckVsZW1lbnQiLCJLbm9iQmFzZSJdLCJzb3VyY2VSb290IjoiIn0=