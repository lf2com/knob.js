(()=>{"use strict";function e(e,n,t,r){n.forEach((n=>{!function(e,n,t,r){e.addEventListener(n,t,r)}(e,n,t,r)}))}function n(e,n,t,r){n.forEach((n=>{e.removeEventListener(n,t,r)}))}function t(e,n,t){return e.dispatchEvent(new CustomEvent(n,t))}const r=function(e,n){return customElements.get(n)?Promise.reject(new Error(`Already defined <${n}>`)):(customElements.define(n,e),customElements.whenDefined(n))};var s;!function(e){e.spinStart="spinstart",e.spinning="spinning",e.spinEnd="spinend",e.change="change"}(s||(s={}));const o=s,i=function(e){if(e instanceof MouseEvent)return{x:e.clientX,y:e.clientY};if(e instanceof TouchEvent){const{touches:[n]}=e;return{x:n.clientX,y:n.clientY}}throw new ReferenceError(`Illegal event: ${e}`)},{PI:a,hypot:c,asin:d}=Math,l={x:0,y:0};function h(e,n=l){return e.y<n.y?e.x>n.x?1:2:e.x<n.x?3:e.y>n.y?4:1}function u(e,n=l,t=h(e,n)){const r=e.x-n.x,s=e.y-n.y,o=c(r,s);switch(t){default:case 1:return d(-s/o);case 2:return d(-r/o);case 3:return d(s/o);case 4:return d(r/o)}}const g=["mousedown","touchstart"],m=["mousemove","touchmove"],b=["mouseup","touchend"];function p(r){const{degree:s}=this;if(!t(this,o.spinStart,{bubbles:!0,cancelable:!0,composed:!0,detail:{degree:s,lastDegree:s,offsetDegree:0}}))return;const{top:c,right:d,bottom:l,left:g}=this.getBoundingClientRect(),p={x:(d+g)/2,y:(c+l)/2},f=i(r),x=h(f,p),y=u(f,p,x);let v=0,w=x,k=y;const E=e=>{const n=i(e),r=h(n,p),c=u(n,p,r),d=function(e,n,t,r){switch(t-e){default:case 0:return n-r;case-3:case 1:return n-r-a/2;case-1:case 3:return n-r+a/2;case-2:case 2:{const e=n+a-r;return e>a?2*a-e:e}}}(w,k,r,c)/a*180,{degree:l}=this;v+=d;const g=s+v,m=t(this,o.spinning,{bubbles:!0,cancelable:!0,composed:!0,detail:{degree:g,lastDegree:l,offsetDegree:v}});w=r,k=c,m&&(this.degree=g)},D=()=>{const{degree:e}=this;n(document,m,E),n(document,b,D),t(this,o.spinEnd,{bubbles:!0,cancelable:!1,composed:!0,detail:{degree:e,lastDegree:s,offsetDegree:v}})};r.preventDefault(),e(document,m,E),e(document,b,D)}var f;!function(e){e.disabled="disabled",e.degree="degree",e.min="min",e.max="max"}(f||(f={}));const x=f,{isNaN:y}=globalThis,v=document.createElement("template");v.innerHTML='\n  <style>\n    :host {\n      position: relative;\n      display: inline-block;\n      vertical-align: text-bottom;\n    }\n\n    knob {\n      transform: rotate(var(--degree));\n      width: 100%;\n      height: 100%;\n      display: block;\n    }\n  </style>\n  <knob>\n    <slot></slot>\n    <cover>\n      <slot name="pointer"></slot>\n    </cover>\n  </knob>\n';class w extends HTMLElement{#disabled=!1;#minDegree=-1/0;#maxDegree=1/0;#degree=0;constructor(){super(),this.attachShadow({mode:"open"});const e=this.shadowRoot;e.append(v.content.cloneNode(!0)),this.domKnob=e.querySelector("knob"),w.observedAttributes.forEach((e=>{this.attributeChangedCallback(e)}))}static get observedAttributes(){return[x.disabled,x.min,x.max,x.degree]}attributeChangedCallback(e){switch(e){default:break;case x.disabled:this.disabled=this.hasAttribute(x.disabled);break;case x.min:this.min=Number(this.getAttribute(x.min)??-1/0),this.degree=Math.max(this.min,this.degree);break;case x.max:this.max=Number(this.getAttribute(x.max)??1/0),this.degree=Math.min(this.max,this.degree);break;case x.degree:this.degree=Number(this.getAttribute(x.degree)??0)}}get disabled(){return this.#disabled}set disabled(t){const r=Boolean(t);r?n(this,g,p):e(this,g,p),this.#disabled=r}get min(){return this.#minDegree}set min(e){if(y(e))throw new TypeError(`Invalid min degree: ${e}`);if(this.#minDegree=e,this.max<e)throw new RangeError(`Setting min degree that is greater than max degree might cause spining error: ${e} > ${this.max}`)}get max(){return this.#maxDegree}set max(e){if(y(e))throw new TypeError(`Invalid max degree: ${e}`);if(this.#maxDegree=e,this.min>e)throw new RangeError(`Setting max degree that is less than min degree might cause spining error: ${e} < ${this.min}`)}get degree(){return this.#degree}set degree(e){const{degree:n}=this;if(e===n)return;if(y(e))throw new TypeError(`Invalid degree: ${e}`);const r=Math.max(Math.min(e,this.max),this.min);this.domKnob.style.setProperty("--degree",`${r}deg`),this.#degree=r,t(this,o.change,{bubbles:!1,cancelable:!1,detail:{degree:r,lastDegree:n,offsetDegree:r-n}})}get value(){return this.degree}set value(e){this.degree=e}}r(w,"knob-base");const k=w,E=document.createElement("template");E.innerHTML="\n  <style>\n    :host {\n      --size: 80px;\n      \n      width: var(--size);\n      height: var(--size);\n    }\n\n    knob {\n      position: relative;\n      border-radius: 50%;\n      box-sizing: border-box;\n      border: 1px solid currentColor;\n      background: #f3f3f3;\n      color: #aaa;\n      overflow: hidden;\n    }\n\n    knob:hover,\n    knob:active {\n      color: #888;\n      background: #eee;\n    }\n\n    cover {\n      position: absolute;\n      top: 0;\n      right: 0;\n      bottom: 0;\n      left: 0;\n      display: flex;\n      z-index: 1;\n    }\n\n    slot[name=pointer] {\n      margin: 0 auto;\n      display: block;\n    }\n\n    ::slotted([slot=pointer]) {\n      display: none;\n    }\n\n    knob > slot {\n      position: absolute;\n      top: 50%;\n      left: 50%;\n      transform: translate(-50%, -50%);\n      display: block;\n    }\n  </style>\n";const D=class extends k{constructor(){super(),this.shadowRoot.append(E.content.cloneNode(!0))}},M=document.createElement("template");M.innerHTML="\n  <style>\n    slot[name=pointer] {\n      margin-top: 5%;\n      border-radius: 50%;\n      width: 10%;\n      height: 10%;\n      background: currentColor;\n    }\n  </style>\n";r(class extends D{constructor(){super(),this.shadowRoot.append(M.content.cloneNode(!0))}},"knob-dot");const T=document.createElement("template");T.innerHTML="\n  <style>\n    slot[name=pointer] {\n      transform: rotate(45deg);\n      margin-top: 5%;\n      width: 10%;\n      height: 10%;\n      background-image: linear-gradient(\n        135deg,\n        currentColor 50%,\n        transparent 50%\n      );\n    }\n  </style>\n";r(class extends D{constructor(){super(),this.shadowRoot.append(T.content.cloneNode(!0))}},"knob-triangle");const C=document.createElement("template");C.innerHTML="\n  <style>\n    slot[name=pointer] {\n      width: 3%;\n      height: 15%;\n      background: currentColor;\n    }\n  </style>\n";r(class extends D{constructor(){super(),this.shadowRoot.append(C.content.cloneNode(!0))}},"knob-line")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZSxDQUNqRCtCLFNBQVMsRUFDVEMsWUFBWSxFQUNaRSxPQUFRLENBQ05OLE9BQUFBLEVBQ0FPLFdBQUFBLEVBQ0FDLGFBQWNSLEVBQVNPLEtBUXBCLFlBQ1AsT0FBT0wsS0FBS0YsT0FNTCxVQUFDZ0UsR0FDUjlELEtBQUtGLE9BQVNnRSxHQUlsQlEsRUFBZ0I5QixFQWhPQyxhQWtPakIsVUN4T01ILEVBQVdMLFNBQVNNLGNBQWMsWUFFeENELEVBQVNFLFVBQWEsKzNCQStEdEIsUUFUQSxjQUF1QkMsRUFDckJHLGNBQ0VDLFFBRUM1QyxLQUFLK0MsV0FDSEMsT0FBT1gsRUFBU1ksUUFBUUMsV0FBVSxNQzNEbkNiLEVBQVdMLFNBQVNNLGNBQWMsWUFFeENELEVBQVNFLFVBQWEsdUxBcUJ0QitCLEVBVEEsY0FBc0JDLEVBQ3BCNUIsY0FDRUMsUUFFQzVDLEtBQUsrQyxXQUNIQyxPQUFPWCxFQUFTWSxRQUFRQyxXQUFVLE1BcEJ4QixZQTBCakIsTUN6Qk1iLEVBQVdMLFNBQVNNLGNBQWMsWUFFeENELEVBQVNFLFVBQWEscVJBeUJ0QitCLEVBVEEsY0FBMkJDLEVBQ3pCNUIsY0FDRUMsUUFFQzVDLEtBQUsrQyxXQUNIQyxPQUFPWCxFQUFTWSxRQUFRQyxXQUFVLE1BeEJ4QixpQkE4QmpCLE1DN0JNYixFQUFXTCxTQUFTTSxjQUFjLFlBRXhDRCxFQUFTRSxVQUFhLG9JQW1CdEIrQixFQVRBLGNBQXVCQyxFQUNyQjVCLGNBQ0VDLFFBRUM1QyxLQUFLK0MsV0FDSEMsT0FBT1gsRUFBU1ksUUFBUUMsV0FBVSxNQWxCeEIsYyIsInNvdXJjZXMiOlsid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy91dGlscy9ldmVudEhhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9rbm9iLmpzLy4vc3JjL3V0aWxzL3JlZ2lzdGVyRWxlbWVudC50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMvdmFsdWVzL2V2ZW50cy50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMvdXRpbHMvZ2V0RXZlbnRYWS50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMvdXRpbHMvcmFkaXVzQW5kRGVncmVlLnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy91dGlscy9zcGluTGlzdGVuZXIudHMiLCJ3ZWJwYWNrOi8vQGxmMmNvbS9rbm9iLmpzLy4vc3JjL3ZhbHVlcy9hdHRyaWJ1dGVzLnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy9rbm9iLnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy9rbm9icy9iYXNpYy50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMva25vYnMvZG90LnRzIiwid2VicGFjazovL0BsZjJjb20va25vYi5qcy8uL3NyYy9rbm9icy90cmlhbmdsZS50cyIsIndlYnBhY2s6Ly9AbGYyY29tL2tub2IuanMvLi9zcmMva25vYnMvbGluZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJ0eXBlIEV2ZW50SG9sZGVyID0gSFRNTEVsZW1lbnQgfCBEb2N1bWVudCB8IFdpbmRvdztcbnR5cGUgRXZlbnRMaXN0ZW5lciA9ICguLi5hcmdzOiBhbnlbXSkgPT4gdm9pZDtcblxuaW50ZXJmYWNlIEV2ZW50TGlzdGVuZXJPcHRpb25zIHtcbiAgY2FwdHVyZT86IGJvb2xlYW47XG4gIG9uY2U/OiBib29sZWFuO1xuICBwYXNzaXZlPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBBZGRzIGV2ZW50IG9mIHR5cGUgdG8gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIoXG4gIHJlZjogRXZlbnRIb2xkZXIsXG4gIHR5cGU6IHN0cmluZyxcbiAgbGlzdGVuZXI6IEV2ZW50TGlzdGVuZXIsXG4gIG9wdGlvbnM/OiBFdmVudExpc3RlbmVyT3B0aW9ucyxcbik6IHZvaWQge1xuICByZWYuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogQWRkcyBldmVudHMgb2YgdHlwZXMgdG8gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXJzKFxuICByZWY6IEV2ZW50SG9sZGVyLFxuICB0eXBlczogc3RyaW5nW10sXG4gIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyLFxuICBvcHRpb25zPzogRXZlbnRMaXN0ZW5lck9wdGlvbnMsXG4pOiB2b2lkIHtcbiAgdHlwZXMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIocmVmLCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgZXZlbnQgb2YgdHlwZSBmcm9tIGVsZW1lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVFdmVudExpc3RlbmVyKFxuICByZWY6IEV2ZW50SG9sZGVyLFxuICB0eXBlOiBzdHJpbmcsXG4gIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyLFxuICBvcHRpb25zPzogRXZlbnRMaXN0ZW5lck9wdGlvbnMsXG4pOiB2b2lkIHtcbiAgcmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgZXZlbnRzIG9mIHR5cGVzIGZyb20gZWxlbWVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXJzKFxuICByZWY6IEV2ZW50SG9sZGVyLFxuICB0eXBlczogc3RyaW5nW10sXG4gIGxpc3RlbmVyOiBFdmVudExpc3RlbmVyLFxuICBvcHRpb25zPzogRXZlbnRMaXN0ZW5lck9wdGlvbnMsXG4pOiB2b2lkIHtcbiAgdHlwZXMuZm9yRWFjaCgodHlwZSkgPT4ge1xuICAgIHJlZi5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcbiAgfSk7XG59XG5cbmludGVyZmFjZSBDdXN0b21FdmVudEluaXQ8VD4ge1xuICBkZXRhaWw/OiBUO1xuICBidWJibGVzPzogYm9vbGVhbjtcbiAgY2FuY2VsYWJsZT86IGJvb2xlYW47XG4gIGNvbXBvc2VkPzogYm9vbGVhbjtcbn1cblxuLyoqXG4gKiBUcmlnZ2VycyBldmVudCBhbmQgcmV0dXJucyBmYWxzZSBpZiB0aGUgZXZlbnQgaXMgY2FuY2VsbGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckV2ZW50PFQ+KFxuICByZWY6IEV2ZW50SG9sZGVyLFxuICB0eXBlOiBzdHJpbmcsXG4gIG9wdGlvbnM/OiBDdXN0b21FdmVudEluaXQ8VD4sXG4pOiBib29sZWFuIHtcbiAgcmV0dXJuIHJlZi5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudCh0eXBlLCBvcHRpb25zKSk7XG59XG5cbi8qKlxuICogVHJpZ2dlcnMgZXZlbnRzIGFuZCByZXR1cm5zIGZhbHNlIGlmIGFueSBvZiB0aGUgZXZlbnQgaXNcbiAqIGNhbmNlbGxlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJFdmVudHM8VD4oXG4gIHJlZjogRXZlbnRIb2xkZXIsXG4gIHR5cGVzOiBzdHJpbmdbXSxcbiAgb3B0aW9ucz86IEN1c3RvbUV2ZW50SW5pdDxUPixcbik6IGJvb2xlYW4ge1xuICByZXR1cm4gdHlwZXMuZXZlcnkoKHR5cGUpID0+IHRyaWdnZXJFdmVudChyZWYsIHR5cGUsIG9wdGlvbnMpKTtcbn1cbiIsIi8qKlxuICogUmVnaXN0ZXJzIEtub2IgZWxlbWVudC5cbiAqL1xuZnVuY3Rpb24gcmVnaXN0ZXJFbGVtZW50KFxuICBOb2RlOiB0eXBlb2YgSFRNTEVsZW1lbnQsXG4gIG5vZGVOYW1lOiBzdHJpbmcsXG4pOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKGN1c3RvbUVsZW1lbnRzLmdldChub2RlTmFtZSkpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoXG4gICAgICBuZXcgRXJyb3IoYEFscmVhZHkgZGVmaW5lZCA8JHtub2RlTmFtZX0+YCksXG4gICAgKTtcbiAgfVxuXG4gIGN1c3RvbUVsZW1lbnRzLmRlZmluZShub2RlTmFtZSwgTm9kZSk7XG5cbiAgcmV0dXJuIGN1c3RvbUVsZW1lbnRzLndoZW5EZWZpbmVkKG5vZGVOYW1lKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVnaXN0ZXJFbGVtZW50O1xuIiwiZW51bSBFdmVudHMge1xuICBzcGluU3RhcnQgPSAnc3BpbnN0YXJ0JyxcbiAgc3Bpbm5pbmcgPSAnc3Bpbm5pbmcnLFxuICBzcGluRW5kID0gJ3NwaW5lbmQnLFxuICBjaGFuZ2UgPSAnY2hhbmdlJyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgRXZlbnRzO1xuIiwiaW1wb3J0IFBvaW50IGZyb20gJy4vUG9pbnQnO1xuXG4vKipcbiAqIFJldHVybnMgKHgsIHkpIG9mIG1vdXN0L3RvdWNoIGV2ZW50LlxuICovXG5mdW5jdGlvbiBnZXRFdmVudFhZKGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCk6IFBvaW50IHtcbiAgaWYgKGV2ZW50IGluc3RhbmNlb2YgTW91c2VFdmVudCkge1xuICAgIHJldHVybiB7XG4gICAgICB4OiBldmVudC5jbGllbnRYLFxuICAgICAgeTogZXZlbnQuY2xpZW50WSxcbiAgICB9O1xuICB9XG4gIGlmIChldmVudCBpbnN0YW5jZW9mIFRvdWNoRXZlbnQpIHtcbiAgICBjb25zdCB7IHRvdWNoZXM6IFt0b3VjaF0gfSA9IGV2ZW50O1xuICAgIHJldHVybiB7XG4gICAgICB4OiB0b3VjaC5jbGllbnRYLFxuICAgICAgeTogdG91Y2guY2xpZW50WSxcbiAgICB9O1xuICB9XG5cbiAgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKGBJbGxlZ2FsIGV2ZW50OiAke2V2ZW50fWApO1xufVxuXG5leHBvcnQgZGVmYXVsdCBnZXRFdmVudFhZO1xuIiwiaW1wb3J0IFBvaW50IGZyb20gJy4vUG9pbnQnO1xuXG5jb25zdCB7IFBJLCBoeXBvdCwgYXNpbiB9ID0gTWF0aDtcbmNvbnN0IG9yaWdpblBvaW50OiBQb2ludCA9IHsgeDogMCwgeTogMCB9O1xuXG50eXBlIFF1YWRyYW50ID0gMSB8IDIgfCAzIHwgNDtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBxdWFkcmFudCBbMSwgNF0gb2YgcG9pbnQgZnJvbSBjZW50ZXIuIFRoZSB2YWx1ZVxuICogaXMgYmFzZWQgb24gcmFkaXVzOiBRMSA9IFswLCBQSSAvIDIpLCBRMiA9IFtQSSAvIDIsIFBJKSxcbiAqIFEzID0gW1BJLCAoMyAqIFBJKSAvIDIpLCBRNCA9IFsoMyAqIFBJKSAvIDIsIDIgKiBQSSkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRRdWFkcmFudChcbiAgcG9pbnQ6IFBvaW50LFxuICBjZW50ZXI6IFBvaW50ID0gb3JpZ2luUG9pbnQsXG4pOiBRdWFkcmFudCB7XG4gIGlmIChwb2ludC55IDwgY2VudGVyLnkpIHtcbiAgICByZXR1cm4gcG9pbnQueCA+IGNlbnRlci54ID8gMSA6IDI7XG4gIH1cbiAgaWYgKHBvaW50LnggPCBjZW50ZXIueCkge1xuICAgIHJldHVybiAzO1xuICB9XG5cbiAgcmV0dXJuIHBvaW50LnkgPiBjZW50ZXIueSA/IDQgOiAxO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJhZGl1cyB2YWx1ZSBzdGFydGluZyBmcm9tIHRoZSBxdWFkcmFudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFJhZGl1c09mUXVhZHJhbnQoXG4gIHBvaW50OiBQb2ludCxcbiAgY2VudGVyOiBQb2ludCA9IG9yaWdpblBvaW50LFxuICBxdWFkcmFudCA9IGdldFF1YWRyYW50KHBvaW50LCBjZW50ZXIpLFxuKTogbnVtYmVyIHtcbiAgY29uc3QgZGlmZlggPSBwb2ludC54IC0gY2VudGVyLng7XG4gIGNvbnN0IGRpZmZZID0gcG9pbnQueSAtIGNlbnRlci55O1xuICBjb25zdCBsZW5ndGggPSBoeXBvdChkaWZmWCwgZGlmZlkpO1xuXG4gIHN3aXRjaCAocXVhZHJhbnQpIHtcbiAgICBkZWZhdWx0OlxuICAgIGNhc2UgMTogcmV0dXJuIGFzaW4oLWRpZmZZIC8gbGVuZ3RoKTtcbiAgICBjYXNlIDI6IHJldHVybiBhc2luKC1kaWZmWCAvIGxlbmd0aCk7XG4gICAgY2FzZSAzOiByZXR1cm4gYXNpbihkaWZmWSAvIGxlbmd0aCk7XG4gICAgY2FzZSA0OiByZXR1cm4gYXNpbihkaWZmWCAvIGxlbmd0aCk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHBvc2l0aXZlIHZhbHVlIGZvciBjbG9ja3dpc2UsIG5lZ2F0aXZlIHZhbHVlIGZvclxuICogY291bnRlcmNsb2Nrd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldERpZmZSYWRpdXMoXG4gIGxhc3RRdWFkcmFudDogUXVhZHJhbnQsXG4gIGxhc3RSYWRpdXM6IG51bWJlcixcbiAgbmV4dFF1YWRyYW50OiBRdWFkcmFudCxcbiAgbmV4dFJhZGl1czogbnVtYmVyLFxuKTogbnVtYmVyIHtcbiAgc3dpdGNoIChuZXh0UXVhZHJhbnQgLSBsYXN0UXVhZHJhbnQpIHtcbiAgICBkZWZhdWx0OlxuICAgIGNhc2UgMDpcbiAgICAgIC8vIHRoZSBzYW1lIHF1YWRyYW50XG4gICAgICByZXR1cm4gbGFzdFJhZGl1cyAtIG5leHRSYWRpdXM7XG4gICAgY2FzZSAtMzpcbiAgICBjYXNlIDE6XG4gICAgICAvLyB0byB0aGUgbmV4dCBxdWFkcmFudFxuICAgICAgcmV0dXJuIGxhc3RSYWRpdXMgLSBuZXh0UmFkaXVzIC0gUEkgLyAyO1xuICAgIGNhc2UgLTE6XG4gICAgY2FzZSAzOlxuICAgICAgLy8gdG8gdGhlIHByZXYgcXVhZHJhbnRcbiAgICAgIHJldHVybiBsYXN0UmFkaXVzIC0gbmV4dFJhZGl1cyArIFBJIC8gMjtcbiAgICBjYXNlIC0yOlxuICAgIGNhc2UgMjoge1xuICAgICAgLy8gdG8gdGhlIGRpYWdvbmFsIHF1YWRyYW50XG4gICAgICBjb25zdCByYWRpdXMgPSBsYXN0UmFkaXVzICsgUEkgLSBuZXh0UmFkaXVzO1xuXG4gICAgICByZXR1cm4gcmFkaXVzID4gUEkgPyAyICogUEkgLSByYWRpdXMgOiByYWRpdXM7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQ29udmVydHMgcmFkaXVzIHRvIGRlZ3Jlc3MuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByYWRpdXNUb0RlZ3JlZShyYWRpdXM6IG51bWJlcik6IG51bWJlciB7XG4gIHJldHVybiAxODAgKiAocmFkaXVzIC8gUEkpO1xufVxuIiwiaW1wb3J0IEtub2IgZnJvbSAnLi4va25vYic7XG5pbXBvcnQgRXZlbnRzIGZyb20gJy4uL3ZhbHVlcy9ldmVudHMnO1xuaW1wb3J0IHtcbiAgYWRkRXZlbnRMaXN0ZW5lcnMsIHJlbW92ZUV2ZW50TGlzdGVuZXJzLCB0cmlnZ2VyRXZlbnQsXG59IGZyb20gJy4vZXZlbnRIYW5kbGVyJztcbmltcG9ydCBnZXRFdmVudFhZIGZyb20gJy4vZ2V0RXZlbnRYWSc7XG5pbXBvcnQge1xuICBnZXREaWZmUmFkaXVzLCBnZXRRdWFkcmFudCwgZ2V0UmFkaXVzT2ZRdWFkcmFudCxcbiAgcmFkaXVzVG9EZWdyZWUsXG59IGZyb20gJy4vcmFkaXVzQW5kRGVncmVlJztcblxuY29uc3QgRVZFTlRfVE9VQ0hfU1RBUlQgPSBbJ21vdXNlZG93bicsICd0b3VjaHN0YXJ0J107XG5jb25zdCBFVkVOVF9UT1VDSF9NT1ZFID0gWydtb3VzZW1vdmUnLCAndG91Y2htb3ZlJ107XG5jb25zdCBFVkVOVF9UT1VDSF9FTkQgPSBbJ21vdXNldXAnLCAndG91Y2hlbmQnXTtcblxuZXhwb3J0IGludGVyZmFjZSBTcGluRXZlbnREZXRhaWwge1xuICBkZWdyZWU6IG51bWJlcjtcbiAgbGFzdERlZ3JlZTogbnVtYmVyO1xuICBvZmZzZXREZWdyZWU6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBIYW5kbGVzIHNwaW5zdGFydCBldmVudCBiaW5kZWQgd2l0aCBtb3VzZXN0YXJ0L3RvdWNoc3RhcnRcbiAqIGV2ZW50cy5cbiAqL1xuZnVuY3Rpb24gc3BpblN0YXJ0TGlzdGVuZXIoXG4gIHRoaXM6IEtub2IsXG4gIGV2ZW50OiBNb3VzZUV2ZW50IHwgVG91Y2hFdmVudCxcbik6IHZvaWQge1xuICBjb25zdCB7XG4gICAgZGVncmVlOiBzdGFydERlZ3JlZSxcbiAgfSA9IHRoaXM7XG4gIGNvbnN0IGFsbFN0YXJ0RXZlbnRzUGFzc2VkID0gdHJpZ2dlckV2ZW50PFNwaW5FdmVudERldGFpbD4oXG4gICAgdGhpcyxcbiAgICBFdmVudHMuc3BpblN0YXJ0LFxuICAgIHtcbiAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgY29tcG9zZWQ6IHRydWUsXG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgZGVncmVlOiBzdGFydERlZ3JlZSxcbiAgICAgICAgbGFzdERlZ3JlZTogc3RhcnREZWdyZWUsXG4gICAgICAgIG9mZnNldERlZ3JlZTogMCxcbiAgICAgIH0sXG4gICAgfSxcbiAgKTtcblxuICBpZiAoIWFsbFN0YXJ0RXZlbnRzUGFzc2VkKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3Qge1xuICAgIHRvcCwgcmlnaHQsIGJvdHRvbSwgbGVmdCxcbiAgfSA9IHRoaXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIGNvbnN0IGNlbnRlciA9IHtcbiAgICB4OiAocmlnaHQgKyBsZWZ0KSAvIDIsXG4gICAgeTogKHRvcCArIGJvdHRvbSkgLyAyLFxuICB9O1xuICBjb25zdCBzdGFydFByZXNzUG9pbnQgPSBnZXRFdmVudFhZKGV2ZW50KTtcbiAgY29uc3Qgc3RhcnRQcmVzc1F1YWRyYW50ID0gZ2V0UXVhZHJhbnQoXG4gICAgc3RhcnRQcmVzc1BvaW50LFxuICAgIGNlbnRlcixcbiAgKTtcbiAgY29uc3Qgc3RhcnRQcmVzc1JhZGl1cyA9IGdldFJhZGl1c09mUXVhZHJhbnQoXG4gICAgc3RhcnRQcmVzc1BvaW50LFxuICAgIGNlbnRlcixcbiAgICBzdGFydFByZXNzUXVhZHJhbnQsXG4gICk7XG5cbiAgbGV0IHRvdGFsRGlmZkRlZ3JlZSA9IDA7XG4gIGxldCBsYXN0UXVhZHJhbnQgPSBzdGFydFByZXNzUXVhZHJhbnQ7XG4gIGxldCBsYXN0UmFkaXVzID0gc3RhcnRQcmVzc1JhZGl1cztcblxuICAvKipcbiAgICogSGFuZGxlcyBzcGlubmluZy9jaGFuZ2luZyBldmVudHMgYmluZGVkIHdpdGhcbiAgICogbW91c2Vtb3ZlL3RvdWNobW92ZSBldmVudHMuXG4gICAqL1xuICBjb25zdCBzcGlubmluZ0xpc3RlbmVyID0gKGV2dDogTW91c2VFdmVudCB8IFRvdWNoRXZlbnQpID0+IHtcbiAgICBjb25zdCBwcmVzc1BvaW50ID0gZ2V0RXZlbnRYWShldnQpO1xuICAgIGNvbnN0IHByZXNzUXVhZHJhbnQgPSBnZXRRdWFkcmFudChcbiAgICAgIHByZXNzUG9pbnQsXG4gICAgICBjZW50ZXIsXG4gICAgKTtcbiAgICBjb25zdCBwcmVzc1JhZGl1cyA9IGdldFJhZGl1c09mUXVhZHJhbnQoXG4gICAgICBwcmVzc1BvaW50LFxuICAgICAgY2VudGVyLFxuICAgICAgcHJlc3NRdWFkcmFudCxcbiAgICApO1xuICAgIGNvbnN0IGRpZmZSYWRpdXMgPSBnZXREaWZmUmFkaXVzKFxuICAgICAgbGFzdFF1YWRyYW50LFxuICAgICAgbGFzdFJhZGl1cyxcbiAgICAgIHByZXNzUXVhZHJhbnQsXG4gICAgICBwcmVzc1JhZGl1cyxcbiAgICApO1xuICAgIGNvbnN0IGRpZmZEZWdyZWUgPSByYWRpdXNUb0RlZ3JlZShkaWZmUmFkaXVzKTtcbiAgICBjb25zdCB7XG4gICAgICBkZWdyZWU6IGxhc3REZWdyZWUsXG4gICAgfSA9IHRoaXM7XG5cbiAgICB0b3RhbERpZmZEZWdyZWUgKz0gZGlmZkRlZ3JlZTtcblxuICAgIGNvbnN0IG5leHREZWdyZWUgPSBzdGFydERlZ3JlZSArIHRvdGFsRGlmZkRlZ3JlZTtcbiAgICBjb25zdCBhbGxNb3ZlRXZlbnRzUGFzc2VkID0gdHJpZ2dlckV2ZW50PFNwaW5FdmVudERldGFpbD4oXG4gICAgICB0aGlzLFxuICAgICAgRXZlbnRzLnNwaW5uaW5nLFxuICAgICAge1xuICAgICAgICBidWJibGVzOiB0cnVlLFxuICAgICAgICBjYW5jZWxhYmxlOiB0cnVlLFxuICAgICAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgZGVncmVlOiBuZXh0RGVncmVlLFxuICAgICAgICAgIGxhc3REZWdyZWUsXG4gICAgICAgICAgb2Zmc2V0RGVncmVlOiB0b3RhbERpZmZEZWdyZWUsXG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICk7XG5cbiAgICBsYXN0UXVhZHJhbnQgPSBwcmVzc1F1YWRyYW50O1xuICAgIGxhc3RSYWRpdXMgPSBwcmVzc1JhZGl1cztcblxuICAgIGlmICghYWxsTW92ZUV2ZW50c1Bhc3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZGVncmVlID0gbmV4dERlZ3JlZTtcbiAgfTtcblxuICAvKipcbiAgICogSGFuZGxlcyBzcGluZW5kL2NoYW5nZWQgZXZlbnRzIGJpbmRlZCB3aXRoIG1vdXNldXAvdG91Y2hlbmRcbiAgICogZXZlbnRzLlxuICAgKi9cbiAgY29uc3Qgc3BpbkVuZExpc3RlbmVyID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgZGVncmVlIH0gPSB0aGlzO1xuXG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcnMoZG9jdW1lbnQsIEVWRU5UX1RPVUNIX01PVkUsIHNwaW5uaW5nTGlzdGVuZXIpO1xuICAgIHJlbW92ZUV2ZW50TGlzdGVuZXJzKGRvY3VtZW50LCBFVkVOVF9UT1VDSF9FTkQsIHNwaW5FbmRMaXN0ZW5lcik7XG4gICAgdHJpZ2dlckV2ZW50PFNwaW5FdmVudERldGFpbD4oXG4gICAgICB0aGlzLFxuICAgICAgRXZlbnRzLnNwaW5FbmQsXG4gICAgICB7XG4gICAgICAgIGJ1YmJsZXM6IHRydWUsXG4gICAgICAgIGNhbmNlbGFibGU6IGZhbHNlLFxuICAgICAgICBjb21wb3NlZDogdHJ1ZSxcbiAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgZGVncmVlLFxuICAgICAgICAgIGxhc3REZWdyZWU6IHN0YXJ0RGVncmVlLFxuICAgICAgICAgIG9mZnNldERlZ3JlZTogdG90YWxEaWZmRGVncmVlLFxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICApO1xuICB9O1xuXG4gIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIGFkZEV2ZW50TGlzdGVuZXJzKGRvY3VtZW50LCBFVkVOVF9UT1VDSF9NT1ZFLCBzcGlubmluZ0xpc3RlbmVyKTtcbiAgYWRkRXZlbnRMaXN0ZW5lcnMoZG9jdW1lbnQsIEVWRU5UX1RPVUNIX0VORCwgc3BpbkVuZExpc3RlbmVyKTtcbn1cblxuLyoqXG4gKiBBZGRzIGxpc3RlbmVycyBvZiBLbm9iLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkU3Bpbkxpc3RlbmVycyhyZWY6IEtub2IpOiB2b2lkIHtcbiAgYWRkRXZlbnRMaXN0ZW5lcnMocmVmLCBFVkVOVF9UT1VDSF9TVEFSVCwgc3BpblN0YXJ0TGlzdGVuZXIpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgbGlzdGVuZXJzIG9mIEtub2IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVTcGluTGlzdGVuZXJzKHJlZjogS25vYik6IHZvaWQge1xuICByZW1vdmVFdmVudExpc3RlbmVycyhyZWYsIEVWRU5UX1RPVUNIX1NUQVJULCBzcGluU3RhcnRMaXN0ZW5lcik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNwaW5TdGFydExpc3RlbmVyO1xuIiwiZW51bSBBdHRyaWJ1dGVzIHtcbiAgZGlzYWJsZWQgPSAnZGlzYWJsZWQnLFxuICBkZWdyZWUgPSAnZGVncmVlJyxcbiAgbWluID0gJ21pbicsXG4gIG1heCA9ICdtYXgnLFxufVxuXG5leHBvcnQgZGVmYXVsdCBBdHRyaWJ1dGVzO1xuIiwiaW1wb3J0IHsgdHJpZ2dlckV2ZW50IH0gZnJvbSAnLi91dGlscy9ldmVudEhhbmRsZXInO1xuaW1wb3J0IHJlZ2lzdGVyRWxlbWVudCBmcm9tICcuL3V0aWxzL3JlZ2lzdGVyRWxlbWVudCc7XG5pbXBvcnQge1xuICBhZGRTcGluTGlzdGVuZXJzLCByZW1vdmVTcGluTGlzdGVuZXJzLCBTcGluRXZlbnREZXRhaWwsXG59IGZyb20gJy4vdXRpbHMvc3Bpbkxpc3RlbmVyJztcbmltcG9ydCBBdHRyaWJ1dGVzIGZyb20gJy4vdmFsdWVzL2F0dHJpYnV0ZXMnO1xuaW1wb3J0IEV2ZW50cyBmcm9tICcuL3ZhbHVlcy9ldmVudHMnO1xuXG5jb25zdCBub2RlTmFtZSA9ICdrbm9iLWJhc2UnO1xuXG5jb25zdCB7IGlzTmFOIH0gPSBnbG9iYWxUaGlzO1xuY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZW1wbGF0ZScpO1xuXG50ZW1wbGF0ZS5pbm5lckhUTUwgPSBgXG4gIDxzdHlsZT5cbiAgICA6aG9zdCB7XG4gICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogdGV4dC1ib3R0b207XG4gICAgfVxuXG4gICAga25vYiB7XG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSh2YXIoLS1kZWdyZWUpKTtcbiAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICA8L3N0eWxlPlxuICA8a25vYj5cbiAgICA8c2xvdD48L3Nsb3Q+XG4gICAgPGNvdmVyPlxuICAgICAgPHNsb3QgbmFtZT1cInBvaW50ZXJcIj48L3Nsb3Q+XG4gICAgPC9jb3Zlcj5cbiAgPC9rbm9iPlxuYDtcblxuY2xhc3MgS25vYiBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgI2Rpc2FibGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgI21pbkRlZ3JlZTogbnVtYmVyID0gLUluZmluaXR5O1xuXG4gICNtYXhEZWdyZWU6IG51bWJlciA9IEluZmluaXR5O1xuXG4gICNkZWdyZWU6IG51bWJlciA9IDA7XG5cbiAgcHJvdGVjdGVkIGRvbUtub2I6IEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHN1cGVyKCk7XG5cbiAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcblxuICAgIGNvbnN0IHNoYWRvd1Jvb3QgPSB0aGlzLnNoYWRvd1Jvb3QgYXMgU2hhZG93Um9vdDtcblxuICAgIHNoYWRvd1Jvb3QuYXBwZW5kKHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpKTtcbiAgICB0aGlzLmRvbUtub2IgPSAoXG4gICAgICBzaGFkb3dSb290LnF1ZXJ5U2VsZWN0b3IoJ2tub2InKSBhcyBIVE1MRWxlbWVudFxuICAgICk7XG5cbiAgICBLbm9iLm9ic2VydmVkQXR0cmlidXRlcy5mb3JFYWNoKChhdHRyTmFtZSkgPT4ge1xuICAgICAgdGhpcy5hdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2soYXR0ck5hbWUpO1xuICAgIH0pO1xuICB9XG5cbiAgc3RhdGljIGdldCBvYnNlcnZlZEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgIEF0dHJpYnV0ZXMuZGlzYWJsZWQsXG4gICAgICBBdHRyaWJ1dGVzLm1pbixcbiAgICAgIEF0dHJpYnV0ZXMubWF4LFxuICAgICAgQXR0cmlidXRlcy5kZWdyZWUsXG4gICAgXTtcbiAgfVxuXG4gIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyTmFtZTogc3RyaW5nKSB7XG4gICAgc3dpdGNoIChhdHRyTmFtZSkge1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQXR0cmlidXRlcy5kaXNhYmxlZDpcbiAgICAgICAgdGhpcy5kaXNhYmxlZCA9IHRoaXMuaGFzQXR0cmlidXRlKEF0dHJpYnV0ZXMuZGlzYWJsZWQpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBBdHRyaWJ1dGVzLm1pbjpcbiAgICAgICAgdGhpcy5taW4gPSBOdW1iZXIoXG4gICAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5taW4pXG4gICAgICAgICAgPz8gLUluZmluaXR5LFxuICAgICAgICApO1xuICAgICAgICB0aGlzLmRlZ3JlZSA9IE1hdGgubWF4KHRoaXMubWluLCB0aGlzLmRlZ3JlZSk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIEF0dHJpYnV0ZXMubWF4OlxuICAgICAgICB0aGlzLm1heCA9IE51bWJlcihcbiAgICAgICAgICB0aGlzLmdldEF0dHJpYnV0ZShBdHRyaWJ1dGVzLm1heClcbiAgICAgICAgICA/PyBJbmZpbml0eSxcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5kZWdyZWUgPSBNYXRoLm1pbih0aGlzLm1heCwgdGhpcy5kZWdyZWUpO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBBdHRyaWJ1dGVzLmRlZ3JlZTpcbiAgICAgICAgdGhpcy5kZWdyZWUgPSBOdW1iZXIoXG4gICAgICAgICAgdGhpcy5nZXRBdHRyaWJ1dGUoQXR0cmlidXRlcy5kZWdyZWUpXG4gICAgICAgICAgPz8gMCxcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdHJ1ZSBpZiBLbm9iIGlzIGRpc2FibGVkLlxuICAgKi9cbiAgZ2V0IGRpc2FibGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLiNkaXNhYmxlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIEtub2IgZGlzYWJsZWQuXG4gICAqL1xuICBzZXQgZGlzYWJsZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICBjb25zdCBkaXNhYmxlZCA9IEJvb2xlYW4odmFsdWUpO1xuXG4gICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICByZW1vdmVTcGluTGlzdGVuZXJzKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhZGRTcGluTGlzdGVuZXJzKHRoaXMpO1xuICAgIH1cblxuICAgIHRoaXMuI2Rpc2FibGVkID0gZGlzYWJsZWQ7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyBtaW4gZGVncmVlLlxuICAgKi9cbiAgZ2V0IG1pbigpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNtaW5EZWdyZWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBtaW4gZGVncmVlLlxuICAgKi9cbiAgc2V0IG1pbihtaW5EZWdyZWU6IG51bWJlcikge1xuICAgIGlmIChpc05hTihtaW5EZWdyZWUpKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIG1pbiBkZWdyZWU6ICR7bWluRGVncmVlfWApO1xuICAgIH1cblxuICAgIHRoaXMuI21pbkRlZ3JlZSA9IG1pbkRlZ3JlZTtcblxuICAgIGlmICh0aGlzLm1heCA8IG1pbkRlZ3JlZSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXG4gICAgICAgIGBTZXR0aW5nIG1pbiBkZWdyZWUgdGhhdCBpcyBncmVhdGVyIHRoYW4gbWF4IGRlZ3JlZSBtaWdodCBjYXVzZSBzcGluaW5nIGVycm9yOiAke21pbkRlZ3JlZX0gPiAke3RoaXMubWF4fWAsXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIG1heCBkZWdyZWUuXG4gICAqL1xuICBnZXQgbWF4KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIHRoaXMuI21heERlZ3JlZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXRzIG1heCBkZWdyZWUuXG4gICAqL1xuICBzZXQgbWF4KG1heERlZ3JlZTogbnVtYmVyKSB7XG4gICAgaWYgKGlzTmFOKG1heERlZ3JlZSkpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEludmFsaWQgbWF4IGRlZ3JlZTogJHttYXhEZWdyZWV9YCk7XG4gICAgfVxuXG4gICAgdGhpcy4jbWF4RGVncmVlID0gbWF4RGVncmVlO1xuXG4gICAgaWYgKHRoaXMubWluID4gbWF4RGVncmVlKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcbiAgICAgICAgYFNldHRpbmcgbWF4IGRlZ3JlZSB0aGF0IGlzIGxlc3MgdGhhbiBtaW4gZGVncmVlIG1pZ2h0IGNhdXNlIHNwaW5pbmcgZXJyb3I6ICR7bWF4RGVncmVlfSA8ICR7dGhpcy5taW59YCxcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgZGVncmVlLlxuICAgKi9cbiAgZ2V0IGRlZ3JlZSgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLiNkZWdyZWU7XG4gIH1cblxuICAvKipcbiAgICogU2V0cyBkZWdyZWUuXG4gICAqL1xuICBzZXQgZGVncmVlKHZhbHVlOiBudW1iZXIpIHtcbiAgICBjb25zdCB7XG4gICAgICBkZWdyZWU6IGxhc3REZWdyZWUsXG4gICAgfSA9IHRoaXM7XG5cbiAgICBpZiAodmFsdWUgPT09IGxhc3REZWdyZWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgSW52YWxpZCBkZWdyZWU6ICR7dmFsdWV9YCk7XG4gICAgfVxuXG4gICAgY29uc3QgZGVncmVlID0gTWF0aC5tYXgoXG4gICAgICBNYXRoLm1pbih2YWx1ZSwgdGhpcy5tYXgpLFxuICAgICAgdGhpcy5taW4sXG4gICAgKTtcblxuICAgIHRoaXMuZG9tS25vYi5zdHlsZS5zZXRQcm9wZXJ0eSgnLS1kZWdyZWUnLCBgJHtkZWdyZWV9ZGVnYCk7XG4gICAgdGhpcy4jZGVncmVlID0gZGVncmVlO1xuICAgIHRyaWdnZXJFdmVudDxTcGluRXZlbnREZXRhaWw+KHRoaXMsIEV2ZW50cy5jaGFuZ2UsIHtcbiAgICAgIGJ1YmJsZXM6IGZhbHNlLFxuICAgICAgY2FuY2VsYWJsZTogZmFsc2UsXG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgZGVncmVlLFxuICAgICAgICBsYXN0RGVncmVlLFxuICAgICAgICBvZmZzZXREZWdyZWU6IGRlZ3JlZSAtIGxhc3REZWdyZWUsXG4gICAgICB9LFxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFsaWFzIG9mIGdldHRpbmcgZGVncmVlLlxuICAgKi9cbiAgZ2V0IHZhbHVlKCkge1xuICAgIHJldHVybiB0aGlzLmRlZ3JlZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbGlhcyBvZiBzZXR0aW5nIGRlZ3JlZS5cbiAgICovXG4gIHNldCB2YWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMuZGVncmVlID0gdmFsdWU7XG4gIH1cbn1cblxucmVnaXN0ZXJFbGVtZW50KEtub2IsIG5vZGVOYW1lKTtcblxuZXhwb3J0IGRlZmF1bHQgS25vYjtcbiIsImltcG9ydCBLbm9iIGZyb20gJy4uL2tub2InO1xuXG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPHN0eWxlPlxuICAgIDpob3N0IHtcbiAgICAgIC0tc2l6ZTogODBweDtcbiAgICAgIFxuICAgICAgd2lkdGg6IHZhcigtLXNpemUpO1xuICAgICAgaGVpZ2h0OiB2YXIoLS1zaXplKTtcbiAgICB9XG5cbiAgICBrbm9iIHtcbiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICBib3JkZXI6IDFweCBzb2xpZCBjdXJyZW50Q29sb3I7XG4gICAgICBiYWNrZ3JvdW5kOiAjZjNmM2YzO1xuICAgICAgY29sb3I6ICNhYWE7XG4gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIH1cblxuICAgIGtub2I6aG92ZXIsXG4gICAga25vYjphY3RpdmUge1xuICAgICAgY29sb3I6ICM4ODg7XG4gICAgICBiYWNrZ3JvdW5kOiAjZWVlO1xuICAgIH1cblxuICAgIGNvdmVyIHtcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgIHRvcDogMDtcbiAgICAgIHJpZ2h0OiAwO1xuICAgICAgYm90dG9tOiAwO1xuICAgICAgbGVmdDogMDtcbiAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICB6LWluZGV4OiAxO1xuICAgIH1cblxuICAgIHNsb3RbbmFtZT1wb2ludGVyXSB7XG4gICAgICBtYXJnaW46IDAgYXV0bztcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgIH1cblxuICAgIDo6c2xvdHRlZChbc2xvdD1wb2ludGVyXSkge1xuICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG5cbiAgICBrbm9iID4gc2xvdCB7XG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICB0b3A6IDUwJTtcbiAgICAgIGxlZnQ6IDUwJTtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xuICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgfVxuICA8L3N0eWxlPlxuYDtcblxuY2xhc3MgS25vYkJhc2UgZXh0ZW5kcyBLbm9iIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgICh0aGlzLnNoYWRvd1Jvb3QgYXMgU2hhZG93Um9vdClcbiAgICAgIC5hcHBlbmQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEtub2JCYXNlO1xuIiwiaW1wb3J0IEtub2JCYXNlIGZyb20gJy4vYmFzaWMnO1xuaW1wb3J0IHJlZ2lzdGVyRWxlbWVudCBmcm9tICcuLi91dGlscy9yZWdpc3RlckVsZW1lbnQnO1xuXG5jb25zdCBub2RlTmFtZSA9ICdrbm9iLWRvdCc7XG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPHN0eWxlPlxuICAgIHNsb3RbbmFtZT1wb2ludGVyXSB7XG4gICAgICBtYXJnaW4tdG9wOiA1JTtcbiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgIHdpZHRoOiAxMCU7XG4gICAgICBoZWlnaHQ6IDEwJTtcbiAgICAgIGJhY2tncm91bmQ6IGN1cnJlbnRDb2xvcjtcbiAgICB9XG4gIDwvc3R5bGU+XG5gO1xuXG5jbGFzcyBLbm9iRG90IGV4dGVuZHMgS25vYkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgKHRoaXMuc2hhZG93Um9vdCBhcyBTaGFkb3dSb290KVxuICAgICAgLmFwcGVuZCh0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gIH1cbn1cblxucmVnaXN0ZXJFbGVtZW50KEtub2JEb3QsIG5vZGVOYW1lKTtcblxuZXhwb3J0IGRlZmF1bHQgS25vYkRvdDtcbiIsImltcG9ydCBLbm9iQmFzZSBmcm9tICcuL2Jhc2ljJztcbmltcG9ydCByZWdpc3RlckVsZW1lbnQgZnJvbSAnLi4vdXRpbHMvcmVnaXN0ZXJFbGVtZW50JztcblxuY29uc3Qgbm9kZU5hbWUgPSAna25vYi10cmlhbmdsZSc7XG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPHN0eWxlPlxuICAgIHNsb3RbbmFtZT1wb2ludGVyXSB7XG4gICAgICB0cmFuc2Zvcm06IHJvdGF0ZSg0NWRlZyk7XG4gICAgICBtYXJnaW4tdG9wOiA1JTtcbiAgICAgIHdpZHRoOiAxMCU7XG4gICAgICBoZWlnaHQ6IDEwJTtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IGxpbmVhci1ncmFkaWVudChcbiAgICAgICAgMTM1ZGVnLFxuICAgICAgICBjdXJyZW50Q29sb3IgNTAlLFxuICAgICAgICB0cmFuc3BhcmVudCA1MCVcbiAgICAgICk7XG4gICAgfVxuICA8L3N0eWxlPlxuYDtcblxuY2xhc3MgS25vYlRyaWFuZ2xlIGV4dGVuZHMgS25vYkJhc2Uge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuXG4gICAgKHRoaXMuc2hhZG93Um9vdCBhcyBTaGFkb3dSb290KVxuICAgICAgLmFwcGVuZCh0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKSk7XG4gIH1cbn1cblxucmVnaXN0ZXJFbGVtZW50KEtub2JUcmlhbmdsZSwgbm9kZU5hbWUpO1xuXG5leHBvcnQgZGVmYXVsdCBLbm9iVHJpYW5nbGU7XG4iLCJpbXBvcnQgS25vYkJhc2UgZnJvbSAnLi9iYXNpYyc7XG5pbXBvcnQgcmVnaXN0ZXJFbGVtZW50IGZyb20gJy4uL3V0aWxzL3JlZ2lzdGVyRWxlbWVudCc7XG5cbmNvbnN0IG5vZGVOYW1lID0gJ2tub2ItbGluZSc7XG5jb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RlbXBsYXRlJyk7XG5cbnRlbXBsYXRlLmlubmVySFRNTCA9IGBcbiAgPHN0eWxlPlxuICAgIHNsb3RbbmFtZT1wb2ludGVyXSB7XG4gICAgICB3aWR0aDogMyU7XG4gICAgICBoZWlnaHQ6IDE1JTtcbiAgICAgIGJhY2tncm91bmQ6IGN1cnJlbnRDb2xvcjtcbiAgICB9XG4gIDwvc3R5bGU+XG5gO1xuXG5jbGFzcyBLbm9iTGluZSBleHRlbmRzIEtub2JCYXNlIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoKTtcblxuICAgICh0aGlzLnNoYWRvd1Jvb3QgYXMgU2hhZG93Um9vdClcbiAgICAgIC5hcHBlbmQodGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSkpO1xuICB9XG59XG5cbnJlZ2lzdGVyRWxlbWVudChLbm9iTGluZSwgbm9kZU5hbWUpO1xuXG5leHBvcnQgZGVmYXVsdCBLbm9iTGluZTtcbiJdLCJuYW1lcyI6WyJhZGRFdmVudExpc3RlbmVycyIsInJlZiIsInR5cGVzIiwibGlzdGVuZXIiLCJvcHRpb25zIiwiZm9yRWFjaCIsInR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwidHJpZ2dlckV2ZW50IiwiZGlzcGF0Y2hFdmVudCIsIkN1c3RvbUV2ZW50IiwiTm9kZSIsIm5vZGVOYW1lIiwiY3VzdG9tRWxlbWVudHMiLCJnZXQiLCJQcm9taXNlIiwicmVqZWN0IiwiRXJyb3IiLCJkZWZpbmUiLCJ3aGVuRGVmaW5lZCIsIkV2ZW50cyIsImV2ZW50IiwiTW91c2VFdmVudCIsIngiLCJjbGllbnRYIiwieSIsImNsaWVudFkiLCJUb3VjaEV2ZW50IiwidG91Y2hlcyIsInRvdWNoIiwiUmVmZXJlbmNlRXJyb3IiLCJQSSIsImh5cG90IiwiYXNpbiIsIk1hdGgiLCJvcmlnaW5Qb2ludCIsImdldFF1YWRyYW50IiwicG9pbnQiLCJjZW50ZXIiLCJnZXRSYWRpdXNPZlF1YWRyYW50IiwicXVhZHJhbnQiLCJkaWZmWCIsImRpZmZZIiwibGVuZ3RoIiwiRVZFTlRfVE9VQ0hfU1RBUlQiLCJFVkVOVF9UT1VDSF9NT1ZFIiwiRVZFTlRfVE9VQ0hfRU5EIiwic3BpblN0YXJ0TGlzdGVuZXIiLCJkZWdyZWUiLCJzdGFydERlZ3JlZSIsInRoaXMiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImNvbXBvc2VkIiwiZGV0YWlsIiwibGFzdERlZ3JlZSIsIm9mZnNldERlZ3JlZSIsInRvcCIsInJpZ2h0IiwiYm90dG9tIiwibGVmdCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInN0YXJ0UHJlc3NQb2ludCIsImdldEV2ZW50WFkiLCJzdGFydFByZXNzUXVhZHJhbnQiLCJzdGFydFByZXNzUmFkaXVzIiwidG90YWxEaWZmRGVncmVlIiwibGFzdFF1YWRyYW50IiwibGFzdFJhZGl1cyIsInNwaW5uaW5nTGlzdGVuZXIiLCJldnQiLCJwcmVzc1BvaW50IiwicHJlc3NRdWFkcmFudCIsInByZXNzUmFkaXVzIiwiZGlmZkRlZ3JlZSIsIm5leHRRdWFkcmFudCIsIm5leHRSYWRpdXMiLCJyYWRpdXMiLCJnZXREaWZmUmFkaXVzIiwibmV4dERlZ3JlZSIsImFsbE1vdmVFdmVudHNQYXNzZWQiLCJzcGluRW5kTGlzdGVuZXIiLCJkb2N1bWVudCIsInByZXZlbnREZWZhdWx0IiwiQXR0cmlidXRlcyIsImlzTmFOIiwiZ2xvYmFsVGhpcyIsInRlbXBsYXRlIiwiY3JlYXRlRWxlbWVudCIsImlubmVySFRNTCIsIktub2IiLCJIVE1MRWxlbWVudCIsIkluZmluaXR5IiwiY29uc3RydWN0b3IiLCJzdXBlciIsImF0dGFjaFNoYWRvdyIsIm1vZGUiLCJzaGFkb3dSb290IiwiYXBwZW5kIiwiY29udGVudCIsImNsb25lTm9kZSIsImRvbUtub2IiLCJxdWVyeVNlbGVjdG9yIiwib2JzZXJ2ZWRBdHRyaWJ1dGVzIiwiYXR0ck5hbWUiLCJhdHRyaWJ1dGVDaGFuZ2VkQ2FsbGJhY2siLCJkaXNhYmxlZCIsImhhc0F0dHJpYnV0ZSIsIm1pbiIsIk51bWJlciIsImdldEF0dHJpYnV0ZSIsIm1heCIsInZhbHVlIiwiQm9vbGVhbiIsIm1pbkRlZ3JlZSIsIlR5cGVFcnJvciIsIlJhbmdlRXJyb3IiLCJtYXhEZWdyZWUiLCJzdHlsZSIsInNldFByb3BlcnR5IiwicmVnaXN0ZXJFbGVtZW50IiwiS25vYkJhc2UiXSwic291cmNlUm9vdCI6IiJ9